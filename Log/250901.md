# 2025-09-01 μ‘μ—… λ΅κ·Έ

## π“‹ μ‘μ—… κ°μ”

- **λ‚ μ§**: 2025-09-01
- **λ‹΄λ‹Ή**: Frontend Team
- **μ£Όμ” μ‘μ—…**: v2 κ²½λ§¤κ²°κ³Ό(auction_ed) μ§€μ—­μ„ νƒ ν•„ν„°λ§ λ¬Έμ  ν•΄κ²°

## π¨ λ°μƒν• λ¬Έμ 

### **λ¬Έμ  μƒν™©**

- **μ¦μƒ**: μ‚¬μ©μκ°€ "κ²½κΈ°λ„ κ³ μ–‘μ‹" μ„ νƒ μ‹ μ „μ²΄ μ§€μ—­ λ°μ΄ν„°(99,075κ°)κ°€ ν‘μ‹λ¨
- **κΈ°λ€**: κ²½κΈ°λ„ κ³ μ–‘μ‹ λ°μ΄ν„°λ§ ν•„ν„°λ§λμ–΄ ν‘μ‹λμ–΄μ•Ό ν•¨
- **μν–¥λ„**: v2 κ²½λ§¤κ²°κ³Ό νμ΄μ§€ ν•µμ‹¬ κΈ°λ¥ μ™„μ „ μ°¨λ‹¨

### **λ¬Έμ  μ›μΈ λ¶„μ„**

1. **ν”„λ΅ νΈμ—”λ“ μ΄μ**:

   - ν΄λΌμ΄μ–ΈνΈμ—μ„ λ¶ν•„μ”ν• μ¤‘λ³µ ν•„ν„°λ§ μν–‰
   - μΆν‘ κΈ°λ° ν•„ν„°λ§μ΄ μ§€μ—­ ν•„ν„°μ™€ μ¶©λ
   - μ§€μ—­ ν•„ν„° λ§¤ν•‘ λ΅μ§ μΌλ¶€ μ¤λ¥

2. **λ°±μ—”λ“ μ΄μ**:
   - API μ—”λ“ν¬μΈνΈμ—μ„ `address_area`, `address_city` νλΌλ―Έν„° λ―Έμ •μ
   - μ§€μ—­ ν•„ν„°κ°€ CRUDλ΅ μ „λ‹¬λμ§€ μ•μ•„ μ „μ²΄ λ°μ΄ν„° λ°ν™

## π”§ ν•΄κ²° κ³Όμ •

### **1λ‹¨κ³„: ν”„λ΅ νΈμ—”λ“ λ¬Έμ  μ§„λ‹¨ λ° μμ •**

#### **μμ • νμΌλ“¤**:

- `Application/datasets/registry.ts`
- `Application/components/features/auction-ed/AuctionEdSearchResults.tsx`
- `Application/app/analysis/[id]/v2/page.tsx`

#### **μ£Όμ” μμ • μ‚¬ν•­**:

1. **μ§€μ—­ ν•„ν„° λ§¤ν•‘ μμ •**:

```typescript
// μμ • μ „
const cityOnly = String(filters.cityDistrict).replace(/^[^\s]+\s+/, "");
mappedFilters.address_city = cityOnly; // "κ³ μ–‘μ‹"

// μμ • ν›„
mappedFilters.address_city = String(filters.cityDistrict); // "κ²½κΈ°λ„ κ³ μ–‘μ‹"
```

2. **ν΄λΌμ΄μ–ΈνΈ ν•„ν„°λ§ λΉ„ν™μ„±ν™”**:

```typescript
// μμ • μ „
const needsClientProcessing =
  hasPrice || hasArea || hasBids || hasDates || hasSearch;

// μμ • ν›„
const needsClientProcessing = false; // μ„λ²„μ—μ„ λ¨λ“  ν•„ν„°λ§ μ²λ¦¬
```

3. **μΆν‘ κΈ°λ° ν•„ν„°λ§ μ κ±°**:

```typescript
// μμ • μ „
const queryFilters = {
  province: zFilters?.province,
  cityDistrict: zFilters?.cityDistrict,
  lat: centerAndRadius?.lat,
  lng: centerAndRadius?.lng,
  radius_km: centerAndRadius?.radius_km,
};

// μμ • ν›„
const queryFilters = {
  province: zFilters?.province,
  cityDistrict: zFilters?.cityDistrict,
  // μΆν‘ κ΄€λ ¨ νλΌλ―Έν„° μ κ±°
};
```

### **2λ‹¨κ³„: λ°±μ—”λ“ ν‘μ—…**

#### **μ”μ²­μ„ μ‘μ„±**:

- νμΌ: `Communication/Backend/send/Request/250901_Frontend_to_Backend_auction_ed_μ§€μ—­ν•„ν„°λ§_λ²„κ·Έμμ •_μ”μ²­.md`
- λ‚΄μ©: μƒμ„Έν• κΈ°μ μ  λ¶„μ„, μ¬ν„ λ°©λ²•, ν•΄κ²° μ”μ²­μ‚¬ν•­

#### **λ°±μ—”λ“ μμ • λ‚΄μ©** (μ™„λ£λ³΄κ³ μ„ κΈ°μ¤€):

- νμΌ: `app/api/v1/endpoints/auction_completed.py`
- μμ •: λ£¨νΈ μ—”λ“ν¬μΈνΈμ— μ§€μ—­ ν•„ν„° νλΌλ―Έν„° μ¶”κ°€
  - `address_area: Optional[str]` β†’ CRUDμ `sido`λ΅ μ „λ‹¬
  - `address_city: Optional[str]` β†’ CRUDμ `address_city`λ΅ μ „λ‹¬

### **3λ‹¨κ³„: κ²€μ¦ λ° ν…μ¤νΈ**

#### **ν…μ¤νΈ κ²°κ³Ό**:

- **μ΄μ „**: κ²½κΈ°λ„ κ³ μ–‘μ‹ μ„ νƒ β†’ 99,075κ° (μ „μ²΄ λ°μ΄ν„°)
- **μμ • ν›„**: κ²½κΈ°λ„ κ³ μ–‘μ‹ μ„ νƒ β†’ **2,651κ°** (κ²½κΈ°λ„ κ³ μ–‘μ‹λ§)

#### **κ²€μ¦ λ°©λ²•**:

```bash
# cURL ν…μ¤νΈ
curl -G "http://127.0.0.1:8000/api/v1/auction-completed/" \
  --data-urlencode "address_area=κ²½κΈ°λ„" \
  --data-urlencode "address_city=κ²½κΈ°λ„ κ³ μ–‘μ‹" \
  --data-urlencode "page=1" \
  --data-urlencode "size=20"
```

## π“ ν–¥ν›„ μ μ© κ°€μ΄λ“ (μ‹¤κ±°λκ°€ λ§¤λ§¤/μ „μ›”μ„Έ)

### **λ™μΌν• λ¬Έμ  λ°μƒ μ‹ ν•΄κ²° μ μ°¨**

#### **1. λ¬Έμ  μ§„λ‹¨**

```javascript
// λΈλΌμ°μ € μ½μ†”μ—μ„ ν™•μΈ
console.log("ν•„ν„° μƒνƒ:", filters);
console.log("API νλΌλ―Έν„°:", filtersForQuery);
console.log("μ„λ²„ μ‘λ‹µ:", result);
```

#### **2. ν”„λ΅ νΈμ—”λ“ μμ • μ²΄ν¬λ¦¬μ¤νΈ**

**A. μ§€μ—­ ν•„ν„° λ§¤ν•‘ ν™•μΈ** (`datasets/registry.ts`):

```typescript
// real_transactions, real_rentsμ κ²½μ°
if (filters?.province) {
  mappedFilters.sido = filters.province; // λλ” ν•΄λ‹Ή ν•„λ“λ…
}
if (filters?.cityDistrict) {
  mappedFilters.sigungu = String(filters.cityDistrict); // λλ” ν•΄λ‹Ή ν•„λ“λ…
}
```

**B. ν΄λΌμ΄μ–ΈνΈ ν•„ν„°λ§ μ„¤μ •**:

```typescript
// μ„λ²„μ—μ„ λ¨λ“  ν•„ν„°λ§μ„ μ§€μ›ν•λ” κ²½μ°
const needsClientProcessing = false;

// μΌλ¶€λ§ μ§€μ›ν•λ” κ²½μ°
const needsClientProcessing = hasUnsupportedFilters;
```

**C. μΆν‘ ν•„ν„°λ§ μ¶©λ λ°©μ§€**:

```typescript
// v2 νμ΄μ§€μ—μ„ μΆν‘ νλΌλ―Έν„° μ κ±°
const queryFilters = {
  province: zFilters?.province,
  cityDistrict: zFilters?.cityDistrict,
  // lat, lng, radius_km λ“± μ κ±°
};
```

#### **3. λ°±μ—”λ“ ν‘μ—… μ”μ²­μ„ ν…ν”λ¦Ώ**

**νμΌλ…**: `Communication/Backend/send/Request/YYMMDD_Frontend_to_Backend_[λ°μ΄ν„°μ…‹]_μ§€μ—­ν•„ν„°λ§_λ²„κ·Έμμ •_μ”μ²­.md`

**ν•„μ ν¬ν•¨ λ‚΄μ©**:

1. λ¬Έμ  μƒν™© λ° μ¬ν„ λ°©λ²•
2. ν„μ¬ API νΈμ¶ νλΌλ―Έν„°
3. κΈ°λ€ν•λ” μ‘λ‹µ ν•μ‹
4. ν…μ¤νΈ μΌ€μ΄μ¤
5. μ°μ„ μμ„ λ° μΌμ •

#### **4. κ²€μ¦ λ°©λ²•**

**A. λ„¤νΈμ›ν¬ μ”μ²­ ν™•μΈ**:

- F12 β†’ Network νƒ­μ—μ„ μ‹¤μ  API νΈμ¶ ν™•μΈ
- νλΌλ―Έν„°κ°€ μ¬λ°”λ¥΄κ² μ „λ‹¬λλ”μ§€ κ²€μ¦

**B. λ°μ΄ν„° κ²€μ¦**:

- μ²« λ²μ§Έ μ•„μ΄ν…μ μ£Όμ†κ°€ μ„ νƒν• μ§€μ—­κ³Ό μΌμΉν•λ”μ§€ ν™•μΈ
- μ΄ λ°μ΄ν„° κ°μκ°€ ν•©λ¦¬μ μΈ λ²”μ„μΈμ§€ ν™•μΈ

**C. UI λ™μ‘ ν™•μΈ**:

- μ§€μ—­ μ„ νƒ β†’ λ°μ΄ν„° ν•„ν„°λ§ β†’ νμ΄μ§€λ„¤μ΄μ… μ •μƒ μ‘λ™

## π“ μ‘μ—… μ„±κ³Ό

### **ν•΄κ²°λ λ¬Έμ λ“¤**

- β… v2 κ²½λ§¤κ²°κ³Ό μ§€μ—­μ„ νƒ ν•„ν„°λ§ μ™„μ „ ν•΄κ²°
- β… ν”„λ΅ νΈμ—”λ“-λ°±μ—”λ“ ν‘μ—… ν”„λ΅μ„Έμ¤ ν™•λ¦½
- β… ν–¥ν›„ λ™μΌ λ¬Έμ  ν•΄κ²° κ°€μ΄λ“ λ¬Έμ„ν™”

### **μ„±λ¥ κ°μ„ **

- **μ΄μ „**: μ„λ²„ + ν΄λΌμ΄μ–ΈνΈ μ¤‘λ³µ ν•„ν„°λ§
- **ν„μ¬**: μ„λ²„ ν•„ν„°λ§λ§ μ‚¬μ© (μ„±λ¥ ν–¥μƒ)

### **λ°μ΄ν„° μ •ν™•μ„±**

- **μ΄μ „**: 99,075κ° (μ „μ²΄ μ§€μ—­)
- **ν„μ¬**: 2,651κ° (κ²½κΈ°λ„ κ³ μ–‘μ‹λ§)

## π”„ λ‹¤μ λ‹¨κ³„

### **μμ • μ‘μ—…**

1. **μ‹¤κ±°λκ°€(λ§¤λ§¤)** μ§€μ—­ ν•„ν„°λ§ ν…μ¤νΈ λ° ν•„μ”μ‹ λ™μΌ μμ • μ μ©
2. **μ‹¤κ±°λκ°€(μ „μ›”μ„Έ)** μ§€μ—­ ν•„ν„°λ§ ν…μ¤νΈ λ° ν•„μ”μ‹ λ™μΌ μμ • μ μ©
3. **λ§¤λ¬Ό** λ°μ΄ν„°μ…‹ μ§€μ—­ ν•„ν„°λ§ κ²€ν† 

### **λ¨λ‹ν„°λ§ ν¬μΈνΈ**

- λ‹¤λ¥Έ μ§€μ—­ μ„ νƒ μ‹ μ •μƒ μ‘λ™ μ—¬λ¶€
- νμ΄μ§€λ„¤μ΄μ… λ° μ •λ ¬ κΈ°λ¥ μ •μƒ μ‘λ™ μ—¬λ¶€
- μ„±λ¥ μ΄μ λ°μƒ μ—¬λ¶€

---

## π“‹ [2025-09-01 μ¤ν›„] v2 νμ΄μ§€ λ§¤κ°κ°€ μ¬λΌμ΄λ” ν•„ν„°λ§ κµ¬ν„

### π― μ”μ²­μ‚¬ν•­

- v2 νμ΄μ§€μ—μ„ κ²½λ§¤κ²°κ³Όμ λ§¤κ°κ°€ μ¬λΌμ΄λ” μμ •μ— λ”°λΌ APIλ΅ λ¶λ¬μ¨ λ°μ΄ν„°μ λ²”μ„μ— ν•΄λ‹Ήλλ” λ°μ΄ν„°λ§ λ©λ΅ ν‘μ— ν‘μ‹

### π” ν„ν™© λ¶„μ„

1. **κΈ°μ΅΄ μƒνƒ**:

   - λ§¤κ°κ°€ μ¬λΌμ΄λ” UIλ” μ΄λ―Έ κµ¬ν„λμ–΄ μμ (`AuctionEdFilter.tsx`)
   - ν΄λΌμ΄μ–ΈνΈ μ‚¬μ΄λ“μ—μ„λ§ ν•„ν„°λ§ μ²λ¦¬ μ¤‘
   - λ°±μ—”λ“λ΅ λ§¤κ°κ°€ ν•„ν„°κ°€ μ „λ‹¬λμ§€ μ•κ³  μμ—μ

2. **λ°±μ—”λ“ μ§€μ› ν™•μΈ**:
   - `min_final_sale_price` / `max_final_sale_price` νλΌλ―Έν„°λ΅ λ§¤κ°κ°€ ν•„ν„°λ§ μ§€μ›
   - λ‹¨μ„: λ§μ›

### π› οΈ κµ¬ν„ λ‚΄μ©

#### 1. `registry.ts` μμ •

```typescript
// auction_ed μ „μ©: μ§€μ—­ ν•„ν„° + λ§¤κ°κ°€ ν•„ν„°λ¥Ό μ„λ²„λ΅ μ „λ‹¬
const AUCTION_ED_SERVER_FILTERS = [
  "province",
  "cityDistrict",
  "town",
  "priceRange",
] as const;

// buildListKeyμ™€ fetchListμ—μ„ λ§¤κ°κ°€ ν•„ν„° μ²λ¦¬ μ¶”κ°€
if (serverFilters?.priceRange && Array.isArray(serverFilters.priceRange)) {
  const [min, max] = serverFilters.priceRange;
  if (typeof min === "number" && min >= 0) {
    mappedFilters.min_final_sale_price = min;
  }
  if (typeof max === "number" && max > 0 && max !== 500000) {
    mappedFilters.max_final_sale_price = max;
  }
}
```

#### 2. `AuctionEdSearchResults.tsx` μμ •

```typescript
// λ§¤κ°κ°€ ν•„ν„°λ” μ„λ²„μ—μ„ μ²λ¦¬λλ―€λ΅ ν΄λΌμ΄μ–ΈνΈ ν•„ν„°λ§μ—μ„ μ μ™Έ
const needsClientProcessing = hasArea || hasBids || hasDates || hasSearch;
```

### β… ν…μ¤νΈ κ²°κ³Ό

1. **ν•„ν„° UI μ •μƒ μ‘λ™**: λ§¤κ°κ°€ μ¬λΌμ΄λ” μ΅°μ‘ μ‹ "κ°€κ²©: 0λ§ ~ 1.5μ–µ" ν•„ν„° ν‘μ‹
2. **μ„λ²„ ν•„ν„°λ§ μ„±κ³µ**: λ°±μ—”λ“λ΅ λ§¤κ°κ°€ ν•„ν„° νλΌλ―Έν„° μ „λ‹¬ ν™•μΈ
3. **λ°μ΄ν„° ν•„ν„°λ§ ν™•μΈ**: 15,000λ§μ› μ΄ν• λ§¤κ°κ°€ λ°μ΄ν„°λ§ ν‘μ‹λ¨
4. **μ½μ†” λ΅κ·Έ ν™•μΈ**:
   - `π”§ setRangeFilter νΈμ¶`
   - `π”§ λ„¤μ„μ¤νμ΄μ¤ ν•„ν„° μ‚¬μ©: auction_ed`
   - `serverFiltering: "λ§¤κ°κ°€ ν•„ν„°λ” μ„λ²„μ—μ„ μ²λ¦¬λ¨"`

### π‰ μ™„λ£ μ‚¬ν•­

- β… λ§¤κ°κ°€ μ¬λΌμ΄λ” ν•„ν„°λ§μ΄ μ„λ²„ μ‚¬μ΄λ“μ—μ„ μ •μƒ μ‘λ™
- β… ν΄λΌμ΄μ–ΈνΈμ™€ μ„λ²„ ν•„ν„°λ§ μ—­ν•  λ¶„λ¦¬ μ™„λ£
- β… μ‹¤μ‹κ°„ ν•„ν„°λ§ λ° UI μ—…λ°μ΄νΈ ν™•μΈ

---

**μ‘μ—… μ™„λ£**: 2025-09-01  
**Frontend Team**
