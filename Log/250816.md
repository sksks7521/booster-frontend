# Frontend 개발 로그 - 2025년 8월 16일

작성 시각: 2025-08-16T00:00Z (로컬)

## 🟢 오늘 바로 실행(Quick Actions)

- [x] 브라우저에서 `http://localhost:3000/analysis` 열기 → 목록 렌더 확인, 스크린샷 저장
- [x] DevTools Network: API 호출이 `http://127.0.0.1:8001`로 나가는지 확인 (`NEXT_PUBLIC_API_BASE_URL` 반영 여부)
- [x] `GET /api/v1/items/simple` 200 OK 및 응답 샘플 캡처(첫 페이지 1건)
- [x] Kakao 지도 SDK 요청 상태 확인(`https://dapi.kakao.com/v2/maps/sdk.js?...`) → 현재 로드 에러 재현(콘솔 로그 수집), 도메인/키 점검 필요

## 📜 오늘 수행한 작업 (세부 로그)

- [x] 인프라 회신 수신 및 검토: Kakao JS 키 전달 경로/도메인 정책/Amplify ENV 계획 확인
  - 키 전달 경로: `<project-root>/Secrets/kakao/dev/NEXT_PUBLIC_KAKAO_APP_KEY.txt`
  - 로컬 도메인: `http://localhost:3000` 등록 완료, `http://127.0.0.1:3000` 등록 불가
  - 배포 계획: Amplify ENV로 `NEXT_PUBLIC_MAP_PROVIDER`, `NEXT_PUBLIC_KAKAO_APP_KEY` 주입 예정
  - 회신 보관: `Communication/Infra/receive/Completed/250816_Infra_to_Frontend_Kakao_JS_키_중앙관리_전환_저장_위치_도메인_허용_Amplify_ENV_주입_회신_완료.md`
- [x] 문서 업데이트: 로컬 도메인 정책 및 Amplify 주입 계획 반영
  - `Doc/FRONTEND_ARCHITECTURE.md`: Kakao 임시 전환 섹션에 `localhost:3000` 권장 사항 추가
  - `Doc/PROJECT_FRONTEND_ROADMAP.md`: 로드맵에 Kakao 로컬 도메인 고정 주석 추가
- [x] 로그 정리: 금일 인프라 회신 반영 사항을 체크리스트와 문서/커뮤니케이션 섹션에 반영
  - 체크리스트에 인프라 회신 수신/문서 반영 항목 완료 처리
- [x] 보안: `Secrets/` 디렉터리 `.gitignore` 등록 (Kakao 키 텍스트 레포 보관 방지)
- [x] 보안 점검(전수 검색): 레포 내 키 하드코딩/유출 없음 확인(코드/설정/문서 모두 ENV 참조·예시만 존재). `.env.local`·`Secrets/` 커밋 제외 상태 재확인
- [x] 로컬 적용: `Application/.env.local`에 `NEXT_PUBLIC_MAP_PROVIDER=kakao`, `NEXT_PUBLIC_KAKAO_APP_KEY`(Infra 전달) 반영, dev 서버 3000 포트 기동
- [x] 지도 스모크 1차: `/analysis` → 지도 탭 진입 시 Kakao SDK 로드 에러 재현(콘솔 메시지: "Kakao SDK load failed (check JavaScript key & Web allowed domains)"). Network 캡처/스크린샷 수집 진행
- [ ] 환경 적용 준비: `.env.local`에 `NEXT_PUBLIC_MAP_PROVIDER=kakao`, `NEXT_PUBLIC_KAKAO_APP_KEY=<파일 값>` 적용 후 dev 재기동 예정
- [ ] 지도 스모크 준비: `/analysis`에서 로드/줌/팬/마커, 콘솔 에러 0 캡처 수집 예정

## 📬 수신 요청 요약 (우선순위 판단)

- 백엔드(Request):
  - `Communication/Backend/receive/Request/250813_Backend_to_Frontend_SWR_Key_Fetcher_표준화_및_Base_URL_확인_요청.md` (Requested)
  - `Communication/Backend/receive/Request/250813_Backend_to_Frontend_Items_Simple_전환_적용_및_캡처_요청.md` (Requested)
  - `Communication/Backend/receive/Request/250813_Backend_to_Frontend_Items_API_사용_지침_및_필터_호환_요청.md` (Requested)
- 인프라(Request):
  - `Communication/Infra/receive/Request/250813_Infra_to_Frontend_Kakao_도메인_등록_및_JS_키_확인_요청.md` (Requested)
  - `Communication/Infra/receive/Request/250813_Infra_to_Frontend_VWorld_허용_도메인_최종_확정_합의_요청.md` (파일 존재, 내용 확인 필요)
  - `Communication/Infra/receive/Request/250813_Infra_to_Frontend_Amplify_ENV_최종_등록_요청.md` (파일 존재, 내용 확인 필요)
  - `Communication/Infra/receive/Request/250813_Infra_to_Frontend_Amplify_빌드_런타임_고정_합의_요청.md` (문서상 Completed)
- 파이프라인/분석/매니지(Request): 신규 없음

결론: 백엔드 2건(SWR 표준화, Items Simple 캡처)과 인프라 1건(Kakao 도메인/JS 키) 우선 처리. ENV/VWorld는 확인·회신 병행.

---

## 📋 오늘의 작업 계획(체크리스트)

1. 백엔드 요청 처리 및 증빙 수집

- [x] `.env.local`의 `NEXT_PUBLIC_API_BASE_URL=http://127.0.0.1:8001` 존재/값 확인 후 dev 재기동
- [x] SWR 배열 키 + `fetcher([path, params])` 튜플 해체 패턴 준수 점검 (`Application/lib/fetcher.ts`, `Application/app/providers.tsx`)
- [x] 목록 훅 `Application/hooks/useItems.ts`가 `GET /api/v1/items/simple`을 사용하도록 확인
- [x] `/analysis` 라우트에서 목록 렌더링 정상 확인 및 스크린샷 저장
- [x] Network 캡처: Request URL, Status 200, Response 샘플 저장

2. 인프라 요청 처리

- [x] Kakao 임시 전환: `.env.local`에 `NEXT_PUBLIC_MAP_PROVIDER=kakao`, `NEXT_PUBLIC_KAKAO_APP_KEY=<인프라 전달 키>` 설정 후 dev 재기동
- [ ] 지도 로드/줌/팬/마커 동작 및 콘솔 에러 0 확인, 스크린샷/콘솔 캡처 수집
- [x] 인프라 회신 수신: 로컬 도메인 정책 확인(카카오 Web: `http://localhost:3000` 등록, `http://127.0.0.1:3000` 불가)
- [x] 문서 반영: 로컬 도메인 정책/Amplify ENV 계획을 아키텍처/로드맵에 반영
- [ ] Kakao 도메인 등록 목록(로컬/개발·스테이징) 확인 및 필요 목록 회신
  - [x] 로컬 도메인 정책 확정(인프라 회신): `localhost:3000` 허용, `127.0.0.1:3000` 불가
- [ ] VWorld 허용 도메인 최종안 검토 및 합의(운영키 승인 시 복귀 준비, `NEXT_PUBLIC_VWORLD_API_KEY` 확인)
- [ ] Amplify ENV 최종 등록 상태 확인(필요 시 follow-up 회신)

3. 통합 QA

- [ ] 목록 화면: 초기 로드/필터 반영/페이지네이션/빈·에러·로딩/재시도 UX
- [ ] 지도 화면(kakao 임시): 렌더/상호작용/콘솔 에러 0/필터 동기화
- [ ] 상세 + Comparables: 로딩/빈/에러 표준 및 재시도 동작
- [ ] API 타임아웃/에러 메시지 표준화(`ApiError`) 적용 확인

4. 문서/커뮤니케이션

- [x] 백엔드: Items Simple 전환 및 캡처/Network 증빙 회신 → 수신 확인 및 Close 동의 완료
- [x] 인프라: 회신 수신 및 내부 문서 반영 완료 (Kakao 로컬 도메인 정책, Amplify ENV 주입 계획)
- [ ] 인프라: Kakao 도메인/키 적용 결과 회신 + VWorld 허용 도메인 합의 결과 회신
- [ ] 필요 시 `Communication/*/send/Request` 경로로 후속 요청서 발송

---

## ✅ DoD / Acceptance Criteria

- SWR 표준 패턴 적용 확인, 에러 로깅에 HTTP 상태/URL 포함
- `/analysis` 목록이 `/api/v1/items/simple` 기반으로 정상 렌더(건수/행 표시), 캡처/Network 증빙 확보
- Kakao 지도: 로드/줌/팬 정상, 콘솔 에러 0, 도메인/키 설정 확인 증빙 확보
- 인프라 ENV/도메인 상태 최신화 및 필요 회신 발송
- 통합 QA 주요 항목 Pass(회귀 없음)

---

## ⚠️ 의존성 / 리스크

- 인프라: Kakao 키 전달/도메인 등록, VWorld 운영키 승인 일정
- 백엔드: 간헐적 회귀 가능성(목록/상세/비교 API)
- 로컬(Windows/OneDrive): SWC 바이너리/경로 이슈 가능

---

## 🔗 참고 파일

- `Doc/FRONTEND_ARCHITECTURE.md`
- `Doc/PROJECT_FRONTEND_ROADMAP.md`
- `Doc/QA_250811_Frontend_통합_QA_체크리스트.md`
- `Application/lib/fetcher.ts`, `Application/app/providers.tsx`, `Application/hooks/useItems.ts`
- `Application/components/features/item-table.tsx`, `Application/components/features/map-view.tsx`
- `Communication/Backend/receive/Request/*`, `Communication/Infra/receive/Request/*`

---

## 📈 진행 현황(퍼센트)

- 85% (백엔드 증빙/회신/Close 완료, 어댑터/훅/스모크 정리 완료, 인프라 잔여: Kakao/VWorld)

---

## ▶ 다음에 할 일(Next Steps)

- Kakao 지도 스모크 완료 후 도메인/키/에러 로그 정리하여 인프라 회신
  - 로컬 적용 절차: `<project-root>/Secrets/kakao/dev/NEXT_PUBLIC_KAKAO_APP_KEY.txt` 값으로 `.env.local` 구성 → PowerShell: `cd Application; npm run dev:8001` → `http://localhost:3000/analysis` 스모크
- Kakao SDK 로드 에러 증빙(콘솔/스크린샷/Network) 정리하여 인프라에 키 유형(Web JS), 허용 도메인(`http://localhost:3000`) 재확인 요청(필요 시 키 재발급)
- VWorld 허용 도메인 최종안 합의(운영 승인 시 전환 체크리스트 준비)
- `/api/v1/items` 전환 필요 시 어댑터 기반 검증(샘플 파라미터 세트로 스모크) 및 결과 공유
