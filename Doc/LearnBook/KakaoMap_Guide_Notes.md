## ì¹´ì¹´ì˜¤ë§µ ë§ˆì»¤/í´ëŸ¬ìŠ¤í„° êµ¬í˜„ ê°€ì´ë“œ (ë¶„ì„ í˜ì´ì§€)

ì‘ì„±ì¼: 2025-08-25

### ëª©ì 

- ë‹¤ë¥¸ DB/í”„ë¡œì íŠ¸ì—ì„œë„ ë™ì¼í•œ ë£°ë¡œ ì¹´ì¹´ì˜¤ë§µ ë§ˆì»¤ë¥¼ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ ë””ìì¸Â·ë¡œì§Â·ì„±ëŠ¥ ì •ì±…ì„ í‘œì¤€í™”í•œë‹¤.

### ë””ìì¸ ìŠ¤í™ (í˜„ëŒ€ì , ê¸°ëŠ¥ ë¶ˆë³€)

- í¬ê¸°: 25Ã—25 px, ë¼ìš´ë“œ 6px, í”Œë« ì»¬ëŸ¬ + 1px í—¤ì–´ë¼ì¸ ë³´ë”(#00000020)
- í…ìŠ¤íŠ¸: ì¤‘ì•™ ì •ë ¬, 12px, font-weight 600, ìƒ‰ìƒ #FFFFFF, system-ui í°íŠ¸ ìŠ¤íƒ
- ì•µì»¤: ì¤‘ì‹¬(center)

### ìƒ‰ìƒ/ë¼ë²¨ ê·œì¹™

- ìƒ‰ìƒ(ìµœì €ê°€ ì ˆëŒ€ê¸ˆì•¡, ë‹¨ìœ„ ë§Œì›):
  - t1=6000, t2=8000, t3=10000, t4=13000
  - â‰¤t1: blue(#2563eb), â‰¤t2: green(#16a34a), â‰¤t3: pink(#ec4899), â‰¤t4: orange(#f59e0b), >t4: red(#ef4444), ì—†ìŒ/0: grey(#64748b)
- ë¼ë²¨(í¼ì„¼íŠ¸ ë²„í‚·): ìµœì €ê°€/ê°ì •ê°€(%)ë¥¼ 10% ë‹¨ìœ„ë¡œ ë²„í‚·íŒ… â†’ "00"/"10"/.../"90"/"100"; ê°’ ì—†ìŒì€ "--"

### êµ¬í˜„ ìš”ì•½

- ë°©ì‹: Kakao `Marker` + `MarkerImage(SVG data URL)` ì‚¬ìš©. `CustomOverlay` ëŒ€ì‹  SVG ì´ë¯¸ì§€ ê¸°ë°˜ìœ¼ë¡œ DOM ì˜¤ë²„í—¤ë“œ ìµœì†Œí™” ë° í´ëŸ¬ìŠ¤í„°ëŸ¬ 100% í˜¸í™˜ í™•ë³´.
- ìºì‹œ: ìƒ‰ìƒ-ë¼ë²¨ ì¡°í•©ë³„ SVG data URLì„ ë©”ëª¨ì´ì œì´ì…˜(Map)í•˜ì—¬ ì¬ì‚¬ìš©.
- ì ‘ê·¼ì„±: `title`ì— ê¸ˆì•¡Â·í¼ì„¼íŠ¸ ë²„í‚· ì •ë³´ë¥¼ í¬í•¨.

### í´ëŸ¬ìŠ¤í„° ì •ì±…

- Kakao `MarkerClusterer` ì‚¬ìš©.
- ì¤Œ ì •ì±…(ê¶Œì¥): level â‰¥ 9 â†’ í´ëŸ¬ìŠ¤í„° ë³‘í•©, level 7â€“8 â†’ ë¶€ë¶„ ë³‘í•©, level â‰¤ 6 â†’ ê°œë³„ ë§ˆì»¤.
- ëŒ€ëŸ‰(ìˆ˜ì²œ ê°œ)ì—ì„œë„ ì•ˆì •ì ìœ¼ë¡œ ë™ì‘í•˜ë„ë¡ í´ëŸ¬ìŠ¤í„°ëŸ¬ ìš°ì„  ì ìš©.

### ì¤Œ/ì¤‘ì‹¬ ì •ì±… ì—…ë°ì´íŠ¸ (2025-08-26)

- ì§€ì—­ ìµœì´ˆ ì§„ì… ë° ì§€ì—­ ë³€ê²½ ì‹œ ê¸°ë³¸ ì¤Œ ë ˆë²¨ì„ 8ë¡œ í†µì¼.
- ì§€ì—­ ì „í™˜ ì§í›„ ë°ì´í„° ë¡œë“œ ì™„ë£Œ íƒ€ì´ë°ì— ë§ì¶° 1íšŒ `fitBounds` ë³´ì¥(`pendingFitRef`).
- `fitBounds`/`setCenter` ì§í›„ ì¦‰ì‹œ ìƒíƒœ ë™ê¸°í™”ë¡œ Idle ì˜ì¡´ ë ˆì´ìŠ¤ ì™„í™”.
- ì¢Œì¸¡ ì¢Œí‘œ ì˜¤ë²„ë ˆì´ì— í˜„ì¬ ì¤Œ `z=..` í‘œê¸°(2ìë¦¬ zero-padding).

### UI/ì¸í„°ë™ì…˜ ì—…ë°ì´íŠ¸ (2025-08-26)

- ì§€ë„ íƒ€ì… í† ê¸€: ì¢Œìƒë‹¨ 'ì „ì²´í™”ë©´' ì˜†ì— ì¼ë°˜/ìœ„ì„±/í•˜ì´ë¸Œë¦¬ë“œ 3-ë²„íŠ¼ ì¶”ê°€
- ì¢Œí‘œ ì¹´ë“œ: ì¢Œí•˜ë‹¨ â†’ ìš°í•˜ë‹¨ìœ¼ë¡œ ì´ë™, í˜„ì¬ ì¤‘ì‹¬/ë§ˆìš°ìŠ¤ ì¢Œí‘œ í‘œê¸° + `z=..`
- ì¤Œ ì»¨íŠ¸ë¡¤: ì¢Œí‘œ ì¹´ë“œ ë‚´ +/âˆ’ ë²„íŠ¼ ì¶”ê°€
- í† ìŠ¤íŠ¸: ì£¼ì†Œ/ì‚¬ê±´ë²ˆí˜¸ ë³µì‚¬ ì‹œ ì „ì²´ ì°½ ì¤‘ì•™ ìƒë‹¨ì— 2s ë…¸ì¶œ(ìŠ¬ë¼ì´ë“œ+í˜ì´ë“œ)
- ì„ íƒ ê°•ì¡°: ì²´í¬ëœ í•­ëª© ìœ„ì¹˜ì— í™”ì‚´í‘œí˜• ì˜¤ë²„ë ˆì´ í‘œì‹œ(ì§€ë„ ì¤‘ì‹¬ ì´ë™ ì•ˆ í•¨)
- ìƒì„¸ ì—´ëŒ: ë§ˆì»¤ í´ë¦­ ì‹œ íŒì—…ë§Œ ì—´ë¦¬ê³ , íŒì—…ì˜ â€˜ìƒì„¸ë³´ê¸°â€™ ë²„íŠ¼ì—ì„œë§Œ ìƒì„¸ ë‹¤ì´ì–¼ë¡œê·¸ ì˜¤í”ˆ
- ì„ íƒ ì „ìš© ë³´ê¸°: URL ì¿¼ë¦¬ `selOnly=1`ë¡œ ìƒíƒœ ë°˜ì˜/ë³µì›. ì§€ì—­ ë³€ê²½ ì‹œ ìë™ í•´ì œ ë° ì„ íƒ ì´ˆê¸°í™”

### ë°ì´í„° ì •í•©ì„±/í•„í„°ë§ (2025-08-26)

- ì§€ë„ëŠ” í˜ì´ì§€ ì•„ì´í…œì´ ì•„ë‹ˆë¼ í´ë¼ì´ì–¸íŠ¸ í•„í„°ê°€ ì ìš©ëœ ì „ì²´ ê²°ê³¼(`mapItems`) ê¸°ì¤€
- â€˜ì„¤ì • ì´ˆê¸°í™”â€™ ì‹œ ë§¤ê°ê¸°ì¼ ê¸°ë³¸ê°’(ì˜¤ëŠ˜~+1ê°œì›”)ì„ UI/ë°ì´í„°ì— ë™ê¸°í™”
- â€˜ì„ íƒ í•­ëª©ë§Œ ë³´ê¸°â€™ í† ê¸€ ì¶”ê°€(ìƒì„¸ í•„í„° íŒ¨ë„ ì „ìš©)

### ì´ˆê¸° ê°€ì‹œì„±

- ë§ˆì»¤ ìƒì„± í›„ ê° ë§ˆì»¤ì˜ ì¢Œí‘œë¡œ `LatLngBounds`ë¥¼ êµ¬ì„±í•˜ì—¬ `map.setBounds(bounds, 40, 40, 40, 40)` í˜¸ì¶œ.
- ì„ íƒ ì§€ì—­ ì§„ì… ì‹œ ìë™ ì„¼í„°ë§/ì ì • ì¤Œìœ¼ë¡œ ì‚¬ìš©ìì—ê²Œ ì¦‰ì‹œ ê°€ì‹œí™”.
  - í˜„ì¬ ì •ì±…: `setBounds(..., padding)` ì ìš© í›„ `setLevel(8)`ë¡œ í†µì¼.

### ë°ì´í„° í•„ë“œ ìš”êµ¬ì‚¬í•­

- ì¢Œí‘œ: `latitude`, `longitude` (ë˜ëŠ” `lat`, `lng` í´ë°± ì§€ì›)
- í‘œì‹œê°’: `minimum_bid_price`(ë§Œì›), `bid_to_appraised_ratio`(%) â†’ 10% ë²„í‚· ë³€í™˜
- ê²°ì¸¡ ì²˜ë¦¬: ìµœì €ê°€ ì—†ìŒ/0 â†’ grey, í¼ì„¼íŠ¸ ì—†ìŒ â†’ "--"

### ì§€ë„/ëª©ë¡ ì •í•©ì„± ì •ì±… (2025-08-26)

- ì§€ë„ ë§ˆì»¤ ë°ì´í„°ëŠ” í˜ì´ì§€ ì•„ì´í…œì´ ì•„ë‹Œ â€˜í•„í„° ì ìš© ì „ì²´(mapItems)â€™ë¥¼ ì‚¬ìš©.
- ëª©ë¡ì€ í˜ì´ì§€ë„¤ì´ì…˜ ìœ ì§€, ìƒë‹¨ â€˜í•„í„° Nê±´â€™ì€ í´ë¼ì´ì–¸íŠ¸ ì²˜ë¦¬ ê²°ê³¼ì™€ ë™ê¸°.
- â€˜ì„¤ì • ì´ˆê¸°í™”â€™ ì‹œ ë§¤ê°ê¸°ì¼ì„ ì˜¤ëŠ˜~+1ê°œì›”ë¡œ ê¸°ë³¸ ì„¸íŒ…í•˜ì—¬ ì¦‰ì‹œ í•„í„° ì¼ì¹˜ ë³´ì¥.

### ì„±ëŠ¥/í’ˆì§ˆ ë…¸íŠ¸

- `MarkerImage(SVG)`ëŠ” `CustomOverlay(HTML)` ëŒ€ë¹„ DOM ë¶€í•˜ê°€ ë‚®ê³ , í´ëŸ¬ìŠ¤í„°ì™€ í˜¸í™˜ë¨.
- ì´ë¯¸ì§€ ìºì‹œë¡œ ì¤‘ë³µ ë°ì´í„° URL ìƒì„±ì„ ë°©ì§€.
- ë””ë°”ìš´ìŠ¤(200ms)ë¡œ ì¤Œ/ì´ë™ ì´ë²¤íŠ¸ ì²˜ë¦¬ ë¹ˆë„ ì œì–´.

### í™˜ê²½ ë³€ìˆ˜/ì„¤ì •

- `NEXT_PUBLIC_MAP_PROVIDER=kakao`
- `NEXT_PUBLIC_KAKAO_APP_KEY=...` (ì¹´ì¹´ì˜¤ ë„ë©”ì¸ ë“±ë¡ í•„ìš”)
- ì„ì‹œ ìŠ¤í™: ìƒ‰ìƒ ì„ê³„ê°’(t1~t4)ì€ ì½”ë“œ/ENVì—ì„œ ìƒìˆ˜ë¡œ ê´€ë¦¬ ê°€ëŠ¥.

### í…ŒìŠ¤íŠ¸ ì²´í¬ë¦¬ìŠ¤íŠ¸

- ì‹œë„/ì‹œêµ°êµ¬ ì„ íƒ ì‹œ: ë§ˆì»¤ ìƒì„± â†’ ìë™ ì„¼í„°ë§/ì¤Œ ì ìš© í™•ì¸
- ì¤Œ ë ˆë²¨ ë³€í™”: â‰¥9 ë³‘í•©, 7â€“8 ë¶€ë¶„, â‰¤6 ê°œë³„ ë™ì‘ í™•ì¸
- ê²°ì¸¡ ë°ì´í„°: grey ë°°ì§€ ë° "--" ë¼ë²¨ í™•ì¸
- ì ‘ê·¼ì„±: ë§ˆì»¤ `title` íˆ´íŒì— í…ìŠ¤íŠ¸ ë…¸ì¶œ í™•ì¸

### ì°¸ê³ 

- Kakao ì§€ë„ ê°€ì´ë“œ: Custom Overlay/Marker/Clusterer ê¶Œì¥ì‚¬í•­ì— ë”°ë¦„.
- ë‚´ë¶€ êµ¬í˜„ íŒŒì¼: `Application/components/features/map-view.tsx`

### ì§„í–‰ í˜„í™© (250825)

- SVG ê¸°ë°˜ `MarkerImage` ë°°ì§€(25Ã—25, ë¼ìš´ë“œ 6px, í°ìƒ‰ 12px ë¼ë²¨) êµ¬í˜„ ì™„ë£Œ
- ìƒ‰ìƒ ê·œì¹™(t1=6000, t2=8000, t3=10000, t4=13000) ë° ê²°ì¸¡=grey ì ìš©
- ë¼ë²¨ ê·œì¹™: ìµœì €ê°€/ê°ì •ê°€ ë¹„ìœ¨ 10% ë²„í‚·(â€œ00â€~â€œ100â€, ê²°ì¸¡ â€œ--â€) ì ìš©
- Kakao `MarkerClusterer` ì—°ë™, ì¤Œ ì •ì±…: â‰¥9 ë³‘í•©, 7â€“8 ë¶€ë¶„, â‰¤6 ê°œë³„, ë””ë°”ìš´ìŠ¤ 200ms
- ì´ˆê¸° ê°€ì‹œì„±: ìƒì„± ë§ˆì»¤ `LatLngBounds`ë¡œ `setBounds(..., 40,40,40,40)` ì ìš©
- ë°ì´í„° í•„ë“œ: `latitude/longitude` í•„ìˆ˜í™”, í´ë°± `lat/lng` ì§€ì›
- í´ë¦­ ì¸í„°ë™ì…˜: ìƒì„¸ ì˜¤í”ˆ ì´ë²¤íŠ¸ ë””ìŠ¤íŒ¨ì¹˜ + í¬ì»¤ìŠ¤ ë§ í•˜ì´ë¼ì´íŠ¸
- MapViewëŠ” ë¡œë”©/ì—ëŸ¬ì—ì„œë„ ì§€ë„ ìœ ì§€í•˜ì—¬ ì˜¤ë²„ë ˆì´ ë Œë” ì§€ì† [[memory:7093571]]
- ì§€ë„/ì•„ì´í…œ ë””ë²„ê·¸ ë¡œê·¸ëŠ” í”Œë˜ê·¸ë¡œ ê²Œì´íŒ… [[memory:7092739]]

### íŒì—… êµ¬í˜„ ìƒì„¸ (2025-08-23)

- í‘œì‹œ í•„ë“œ: ê°ì •ê°€, ìµœì €ê°€, ìµœì €ê°€/ê°ì •ê°€, í˜„ì¬ìƒíƒœ, ë§¤ê°ê¸°ì¼, ê³µì‹œê°€ê²©, ê±´ë¬¼í‰í˜•(í‰), ì¸µí™•ì¸, Elevator, ê±´ì¶•ì—°ë„(ë…„), ìµœì €ê°€/ê³µì‹œê°€ê²©(%) , íŠ¹ìˆ˜ì¡°ê±´(ë¬¸ìì—´ ë˜ëŠ” ë¶ˆë¦¬ì–¸ í”Œë˜ê·¸ ì¡°í•©).
- ë ˆì´ì•„ì›ƒ: í­ ê³ ì • 270px, íŠ¹ìˆ˜ì¡°ê±´ ì¤„ë°”ê¿ˆ í—ˆìš©(white-space: normal, word-break: break-word).
- ìƒë‹¨ ì•¡ì…˜: ê´€ì‹¬ë¬¼ê±´(â˜†/â­), ê³µìœ (ğŸ”—). ì£¼ì†Œ/ì‚¬ê±´ë²ˆí˜¸ ë³µì‚¬ ë²„íŠ¼ì€ ë„ë¡œëª… ì£¼ì†Œ ì•„ë˜ ì¢Œì¸¡ ì •ë ¬.
- í•˜ë‹¨ ì•¡ì…˜: ë‹«ê¸°, ìƒì„¸ë³´ê¸°(ì¤‘ì•™ ì •ë ¬).
- ì ‘ê·¼ì„±: ê¸ˆì•¡/ë¹„ìœ¨/ë‚ ì§œ ì…€ì— aria-label.
- í† ìŠ¤íŠ¸: ì§€ë„ ì»¨í…Œì´ë„ˆ ê¸°ì¤€ ì •í•˜ë‹¨ ì¤‘ì•™, 3ì´ˆ ë…¸ì¶œ í›„ í˜ì´ë“œì•„ì›ƒ.
- ì¤‘ì•™ ì •ë ¬: ë§ˆì»¤ í´ë¦­ ì‹œ Kakao íˆ¬ì˜ â†’ panBy(-dx,-dy) ì •ë°€ ë³´ì •. íˆ¬ì˜ ë¶ˆê°€ ì‹œ panTo â†’ setCenter í´ë°±.
- ìƒí˜¸ì‘ìš©: íŒì—… ë‚´ë¶€ wheel/touchmove/click ë²„ë¸” ì°¨ë‹¨. ì§€ë„ ë°°ê²½ í´ë¦­/ë“œë˜ê·¸/ì¤Œ ìë™ ë‹«í˜ ë¹„í™œì„±.
- â€˜íŒì—… ìœ ì§€â€™ ê¸°ëŠ¥ì€ ì‚¬ìš©ì ìš”ì²­ìœ¼ë¡œ ìµœì¢… ì‚­ì œ.

### ì¤‘ì•™ í¬ë¡œìŠ¤í—¤ì–´

- í™”ë©´ ì¤‘ì•™ì— SVG í¬ë¡œìŠ¤í—¤ì–´(pointer-events:none)ë¥¼ í•­ìƒ í‘œì‹œ. ì¤‘ì•™ ì •ë ¬ ë³´ì • ê¸°ì¤€ì ìœ¼ë¡œ ì‚¬ìš©.

### ë³€ê²½ ê¸°ë¡ / ì•ˆì •í™” ì „ëµ (2025-08-25)

- ì§€ë„ ì»¨í…Œì´ë„ˆ ìœ ì§€: ë¡œë”©/ì—ëŸ¬ ì‹œ ì¡°ê¸° return ì œê±°, ì§€ë„ DOMì€ í•­ìƒ ìœ ì§€í•˜ê³  ìƒíƒœëŠ” ì˜¤ë²„ë ˆì´ë¡œ í‘œì‹œ.
- ë¦¬ë§ˆìš´íŠ¸ í‚¤ í™•ì¥: `MapView`ì˜ keyë¥¼ `${sido}-${city}-${town}`ë¡œ í™•ì¥í•˜ì—¬ ìë©´ë™ ë‹¨ìœ„ ë³€ê²½ì—ë„ ì•ˆì • ë¦¬ë§ˆìš´íŠ¸.
- ë‚´ë¶€ ì´ˆê¸°í™” íŠ¸ë¦¬ê±°: `locationKey` prop ì¶”ê°€. ê°’ ë³€ê²½ ì‹œ ë§ˆì»¤/í´ëŸ¬ìŠ¤í„°/íŒì—… ì •ë¦¬, `didInitialFitRef=false`ë¡œ ì´ˆê¸°í™”.
- fitBounds ê²½í•© ë°©ì§€: `pendingFitRef`ë¡œ ì§€ì—­ ì „í™˜ ì§í›„ì—ëŠ” ìƒˆ ë°ì´í„° ë¡œë“œ ì™„ë£Œ ë’¤ì—ë§Œ 1íšŒ `fitBounds` ìˆ˜í–‰. ì´ì „ ì‘ë‹µì˜ ëŠ¦ì€ ë„ì°©ìœ¼ë¡œ ì„¼í„°ê°€ í‹€ì–´ì§€ëŠ” í˜„ìƒ ë°©ì§€.
- 0ê±´ í´ë°± ë³´ì •: 0ê±´ì¼ ë•ŒëŠ” `relayout()`ë§Œ ìˆ˜í–‰í•˜ê³  í˜„ì¬ ì¤‘ì‹¬/ë ˆë²¨ì„ ìœ ì§€(ì„ì˜ ê¸°ì¤€ ì¢Œí‘œë¡œ ì´ë™í•˜ì§€ ì•ŠìŒ).
- ì¤‘ì‹¬ ìœ ì§€ ì •ì±…: ìµœì´ˆ 1íšŒë§Œ `fitBounds`, ì´í›„ í•„í„° ë³€ê²½ì—ì„œëŠ” í˜„ì¬ ì¤‘ì‹¬ ìœ ì§€ + `relayout()`.
- í¬ì»¤ìŠ¤ í•˜ì´ë¼ì´íŠ¸ ì œê±°: ë§ˆì»¤ í´ë¦­ ì‹œ í‘œì‹œë˜ë˜ íŒŒë€ ì›í˜•/í•€ ì œê±°.
- ì¢Œí‘œ ì˜¤ë²„ë ˆì´: ì¢Œì¸¡ í•˜ë‹¨ì— â€˜ì¢Œí‘œâ€™ ì¹´ë“œ(ì œëª©+ì¤‘ì•™/ë§ˆìš°ìŠ¤, ì†Œìˆ˜ì  6ìë¦¬). Kakao `idle`/`mousemove`ë¡œ ê°±ì‹ .
- SWR ë³´ê°•: `keepPreviousData`, `dedupingInterval`, `revalidateOnFocus=false`, `revalidateOnReconnect=false`, `errorRetry` ë“±ìœ¼ë¡œ ë ˆì´ìŠ¤/ê¹œë¹¡ì„ ì™„í™”.

ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸(ì•ˆì •í™”)

- ì§€ë„ íƒ­ ìƒíƒœì—ì„œ ì‹œ/êµ°/ìë©´ë™ì„ ì—°ì†ìœ¼ë¡œ ë³€ê²½í•´ë„ íƒ€ì¼/ë§ˆì»¤ ê³µë°± ì—†ì´ ì¦‰ì‹œ ê°±ì‹ ëœë‹¤.
- ë¹ ë¥¸ ì „í™˜ ì¤‘ì—ë„ ìµœì¢… ì„ íƒ ì§€ì—­ ê¸°ì¤€ìœ¼ë¡œ 1íšŒë§Œ `fitBounds`ê°€ ì ìš©ë˜ê³ , ì´ì „ ì§€ì—­ ì‘ë‹µìœ¼ë¡œ ì„¼í„°ê°€ ë®ì–´ì”Œì›Œì§€ì§€ ì•ŠëŠ”ë‹¤.
- 0ê±´ ì§€ì—­ì—ì„œë„ ì§€ë„ì˜ í˜„ì¬ ì¤‘ì‹¬/ì¤Œì´ ìœ ì§€ëœë‹¤.
- ë§ˆì»¤ í´ë¦­ ì‹œ íŒŒë€ ë§/í•€ ë“± ì¶”ê°€ í•˜ì´ë¼ì´íŠ¸ê°€ ìƒì„±ë˜ì§€ ì•ŠëŠ”ë‹¤.
- ì¢Œì¸¡ í•˜ë‹¨ â€˜ì¢Œí‘œâ€™ ì¹´ë“œê°€ í•­ìƒ í‘œì‹œë˜ê³ , ë§ˆìš°ìŠ¤ ì´ë™/ë“œë˜ê·¸/ì¤Œì— ë”°ë¼ ê°’ì´ ê°±ì‹ ëœë‹¤.

### ë‹¤ìŒ ë‹¨ê³„

- API ë³´ì¥: `/api/v1/items/custom`ì— `latitude/longitude` í•„ë“œ í•­ìƒ í¬í•¨ í™•ì¸(ì„œë²„ í•©ì˜)
- ENV/ë„ë©”ì¸: `NEXT_PUBLIC_KAKAO_APP_KEY` ì„¤ì • ë° ì¹´ì¹´ì˜¤ ë„ë©”ì¸ ë“±ë¡ ì¬í™•ì¸
- ì„ê³„ê°’ ì™¸ë¶€í™”: t1~t4ë¥¼ `lib/map/config.ts` ë˜ëŠ” ENVë¡œ ë¶„ë¦¬(ìš´ì˜ ì¡°ì •)
- í´ëŸ¬ìŠ¤í„° íŠœë‹: `minLevel/gridSize` ì§€ì—­ë³„ íŠ¸ë˜í”½ì— ë§ì¶° ê°’ ë¯¸ì„¸ ì¡°ì •
- ì„±ëŠ¥ ê²€ì¦: 5k+ ë§ˆì»¤ ìƒ˜í”Œë¡œ ë¡œë“œ/ì¤Œ/ì´ë™ ì‹œ í”„ë ˆì„ë“œë ì¸¡ì •
- ì ‘ê·¼ì„±: í‚¤ë³´ë“œ í¬ì»¤ìŠ¤ ì´ë™ ì‹œ ë§ˆì»¤ í¬ì»¤ìŠ¤ í‘œì‹œ/ARIA ë¼ë²¨ ì ê²€ ê°•í™”
- ì—ëŸ¬/ë¡œê·¸: ì§€ë„ ì˜¤ë¥˜ ê²½ë¡œì— ëŒ€í•œ ì‚¬ìš©ì ë©”ì‹œì§€/ë¦¬íŠ¸ë¼ì´ UX ì •ë¦¬(ë””ë²„ê·¸ í”Œë˜ê·¸ ìœ ì§€)
- ë¬¸ì„œí™”: ìš´ì˜ìê°€ ìƒ‰ìƒ ì„ê³„ê°’ê³¼ ë²„í‚· ê·œì¹™ì„ ë³€ê²½í•˜ëŠ” ì ˆì°¨ ì¶”ê°€

### MapLegend ì»´í¬ë„ŒíŠ¸ ì„¤ê³„ (ì¹´ì¹´ì˜¤ ì „í™˜ ê¸°ì¤€)

- ëª©ì : ìƒ‰ìƒ êµ¬ê°„(ìµœì €ê°€, ë‹¨ìœ„ ë§Œì›)ê³¼ ë§ˆì»¤ ìˆ«ì ì˜ë¯¸(10% ë²„í‚·)ë¥¼ ì§€ë„ì˜ ìƒíƒœì™€ ë…ë¦½ì ìœ¼ë¡œ ëª…í™•íˆ ì„¤ëª…
- ìœ„ì¹˜/ë ˆì´ì•„ì›ƒ: ì§€ë„ ì»¨í…Œì´ë„ˆ ìš°ìƒë‹¨ ì ˆëŒ€ë°°ì¹˜, ëª¨ë°”ì¼ í­ì—ì„œ ì ‘í˜(toggle) ì˜µì…˜
- íƒ€ì´í¬ê·¸ë˜í”¼: system-ui, 12px ë³¸ë¬¸ / 13px êµµì€ ì œëª©, ëŒ€ë¹„ ë¹„ìœ¨ í™•ë³´(í…ìŠ¤íŠ¸ + ìˆ˜ì¹˜ ë³‘ê¸°)
- ìƒ‰ìƒì¹©: 12Ã—12px, border-radius: 3px, ì˜¤ë¥¸ìª½ì— ìˆ˜ì¹˜ í…ìŠ¤íŠ¸(â‰¤ t1 â€¦ > t4)
- ë‚´ìš© êµ¬ì¡°:
  - ì œëª©: "ìµœì €ê°€ ë²”ë¡€(ë‹¨ìœ„: ë§Œì›)"
  - ë¼ì¸: `â‰¤ ìˆ«ì ë§Œì›` í¬ë§·ìœ¼ë¡œ í‘œê¸°, ë§ˆì§€ë§‰ ë¼ì¸ì€ `> ìˆ«ì ë§Œì›` (êµ¬ê°„ ìˆ˜ 0ì¼ ë•Œ `> ë¯¸ì„¤ì •`)
  - ì¹© ë¦¬ìŠ¤íŠ¸: êµ¬ê°„ ìˆ˜(N)ì— ë”°ë¼ N+1ê°œ ë™ì  ìƒì„±. í‘œì‹œ ìƒ‰ì€ íŒ”ë ˆíŠ¸(íŒŒë‘/ì´ˆë¡/ë¶„í™/ì£¼í™©/ë¹¨ê°•) ìˆœ ë§¤í•‘
  - ë¶€ê°€ ì„¤ëª…: ë„¤ëª¨ë°•ìŠ¤ ìˆ«ì â†’ 10% ë²„í‚·(ì˜ˆ: 40 = 40~49%)
- ì ‘ê·¼ì„±: aria-label ì œê³µ, ê° í•­ëª©ì€ ìˆ«ì í¬í•¨ í…ìŠ¤íŠ¸ ëŒ€ì²´ ì œê³µ(ìƒ‰ê° ì‚¬ìš©ì ë°°ë ¤)
- ë™ì  ê°±ì‹ : Threshold ìƒíƒœ ë³€ê²½ ì‹œ ì¦‰ì‹œ ì¬ê³„ì‚°. ë¹„ë‚´ë¦¼ì°¨ìˆœ(t1 â‰¤ t2 â‰¤ â€¦) ê²€ì¦ í›„ ë°˜ì˜
- ì„±ëŠ¥: ì§€ë„ ì´ë²¤íŠ¸ì™€ ë¬´ê´€í•œ React ê³ ì • ì˜¤ë²„ë ˆì´ë¡œ ë Œë”, ë¹„ìš© ë¯¸ë¯¸
- ì¸í„°í˜ì´ìŠ¤(ìš”ì•½):
  - ì „ì—­ ìƒíƒœ: `thresholds: number[]`(ê¸¸ì´ 0~4), `palette: {blue, green, pink, orange, red}`
  - ë‚´ë¶€: êµ¬ê°„ ìˆ˜ í† ê¸€(0~4), ìŠ¤ì™€ì¹˜ íŒì˜¤ë²„ë¡œ ìƒ‰ìƒ ì„ íƒ, 1000 step ì…ë ¥, ë§ˆì§€ë§‰ ë¼ì¸ `> â€¦ ë§Œì›`
  - ìë™ ì œì•ˆ: êµ¬ê°„ ìˆ˜ë¥¼ ëŠ˜ë¦´ ë•Œ ìˆ«ìëŠ” ìµœí•˜ë‹¨ ê°’ ê¸°ì¤€ +5,000 ê°„ê²©ìœ¼ë¡œ ì±„ì›€, ìƒ‰ìƒì€ ë¯¸ì‚¬ìš© ìƒ‰ì—ì„œ ëœë¤ ì¶”ì²œ

### ì‚¬ìš©/ìš´ì˜ ê°€ì´ë“œ

### ìƒì„¸/ëª©ë¡ ìµœì‹  ë³€ê²½ ìš”ì•½ (2025-08-26)

- ìƒì„¸ ë‹¤ì´ì–¼ë¡œê·¸: í­ 1080px(â‰ˆ2/3 í™”ë©´), ë†’ì´ 92vh
- ìœ„ì¹˜ ì •ë³´: ê·¸ë¦¬ë“œ ë°– í’€í­ ì„¹ì…˜, Kakao ë¯¸ë‹ˆë§µ ë†’ì´ 720px, ì§€ë„ ì•„ë˜ì—ë§Œ ì•¡ì…˜ ë²„íŠ¼(ê´€ì‹¬ë¬¼ê±´Â·ë³´ê³ ì„œ)
- ê°’ í‘œê¸°: ìµœì €ê°€/ê³µì‹œê°€ê²©ì€ ì†Œìˆ˜ 1ìë¦¬, ì¸µìˆ˜/ìš°í¸ë²ˆí˜¸ëŠ” ì •ìˆ˜
- ê¸´ í…ìŠ¤íŠ¸(ë„ë¡œëª…ì£¼ì†Œ/íŠ¹ìˆ˜ê¶Œë¦¬): 2ì¤„ í´ë¨í”„ + ì¤„ë°”ê¿ˆ í—ˆìš©
- ëª©ë¡ ì»¬ëŸ¼: â€˜ì†Œì¬ì§€â€™(location_detail)ë¡œ êµì²´, ê¸°ë³¸ í­ 50% í™•ëŒ€, í´ë¦­ ì‹œ ìƒì„¸ ì˜¤í”ˆ ë° í”„ë¦¬íŒ¨ì¹˜ ìœ ì§€
- useItems: `/items/custom` í˜¸ì¶œ ì‹œ `location_detail` í•„ë“œ í¬í•¨í•˜ë„ë¡ requiredFields ë³´ê°•

- êµ¬ê°„ ìˆ˜(0~4): 0ì´ë©´ ì„ê³„ê°’ ì—†ì´ `> ë¯¸ì„¤ì •`ë§Œ í‘œì‹œ. 1~4ëŠ” N+1ê°œ ë¼ì¸ í‘œì‹œ
- ë‹¨ìœ„ í‘œê¸°: ë¼ë²¨ì— â€˜ë§Œì›â€™ ë³‘ê¸°. ì œëª©ì€ "ìµœì €ê°€ ë²”ë¡€(ë‹¨ìœ„: ë§Œì›)"
- ìƒ‰ìƒ ì„ íƒ: íŒì˜¤ë²„ ìŠ¤ì™€ì¹˜ 7ìƒ‰(ë¹¨ê°•/ì£¼í™©/ë…¸ë‘/ì´ˆë¡/íŒŒë‘/ë¶„í™/íšŒìƒ‰). ì„ íƒ ì‹œ ë§ ê°•ì¡°
- ìˆ«ì ì…ë ¥: 1000 step, ë¹„ë‚´ë¦¼ì°¨ìˆœ ìœ„ë°˜ ì‹œ í™•ì¸ ë¹„í™œì„±í™”. ì €ì¥ ì‹œ ë²”ë¡€/ë§ˆì»¤ ì¦‰ì‹œ ë°˜ì˜
  - ì‚¬ìš©: ë¶„ì„ í˜ì´ì§€ `map-view.tsx` ìƒë‹¨ì—ì„œ ìƒíƒœ(or ìƒìˆ˜) ì „ë‹¬
- ìŠ¤íƒ€ì¼ ê°€ì´ë“œ: ë°˜íˆ¬ëª… ë°°ê²½ `rgba(255,255,255,.92)`, ê·¸ë¦¼ì `0 1px 4px rgba(0,0,0,.08)`, ë‚´ë¶€ ì—¬ë°± `8px`, ëª¨ì„œë¦¬ 8px

### ë³€ê²½ ê¸°ë¡ (2025-08-27)

- ì§€ë„ ì»´í¬ë„ŒíŠ¸ í™•ì¥: `MapView`ì— ë°ì´í„°ì…‹ ì „ëµ ì£¼ì… í”„ë¡­ ì¶”ê°€
  - `markerColorFn?: (row) => string` ë§ˆì»¤ ìƒ‰ìƒ ì „ëµ
  - `legendItems?: { label: string; color: string }[]` ì™¸ë¶€ ë²”ë¡€(ì˜µì…˜)
  - `namespace?: string` ìŠ¤í† ì–´ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ íŒíŠ¸
- v2 ìƒì„¸ í˜ì´ì§€ ì—°ë™
  - ì§€ë„/í†µí•© íƒ­ì—ì„œ `datasetConfigs[ds].map.marker`ë¥¼ `markerColorFn`ìœ¼ë¡œ ì „ë‹¬
  - ëª©ë¡ì€ `ItemTable` ë™ì  ì»¬ëŸ¼ìœ¼ë¡œ êµì²´(ë°ì´í„°ì…‹ë³„ ìŠ¤í‚¤ë§ˆ ì£¼ì…)
- ë ˆì´ì•„ì›ƒ ì•ˆì •í™”
  - ì¢Œì¸¡ ì½˜í…ì¸ ì— `min-w-0` ì ìš©, ìš°ì¸¡ íŒ¨ë„ ì ‘í˜ ì‹œ `hidden` + ì»¨í…Œì´ë„ˆ `gap-0`
  - ìš°ì¸¡ íŒ¨ë„ í¼ì¹¨ ì‹œ `shrink-0 w-[384px]` ê³ ì • í­ ìœ ì§€
- í•„í„°/ìƒíƒœ êµ¬ì¡°
  - `useFilterStore`ì— `ns` ì˜¤ë²„ë¼ì´ë“œ ì €ì¥ì†Œ ì¶”ê°€(`setNsFilter`, `setNsRangeFilter`)
  - `FilterControl`/`SelectedFilterBar`ê°€ `namespace` ê¸°ë°˜ìœ¼ë¡œ ì½ê¸°Â·ì“°ê¸°
  - `FilterControl`ì´ `defaults`ë¥¼ 1íšŒ ì£¼ì…(ë²”ìœ„/ë‹¨ì¼ í‚¤ ìë™ êµ¬ë¶„)
- ê¸°íƒ€
  - `"use client"` ì§€ì‹œì ìœ„ì¹˜ ì˜¤ë¥˜ ìˆ˜ì •(íŒŒì¼ ìµœìƒë‹¨ ë°°ì¹˜)
  - v2 ë°ì´í„°ì…‹ íƒ­/ì„œë¸Œíƒ­(ëª©ë¡/ì§€ë„/í†µí•©) êµ¬ì¡° ê³ ì •, URL `ds` ë™ê¸°í™”
