## 실거래가/매물 v2 전환 계획 (공통)

- 목적: 과거경매결과 v2 패턴을 재사용하여 실거래가(매매/전월세)와 네이버매물을 동일한 UX/아키텍처로 제공
- 범위: Dataset 정의, 필터, 정렬, 목록/지도/통합 뷰, 팝업/상세 연동, QA

### 공통 단계

- 1. 데이터셋 점검: `Application/datasets/registry.ts`의 각 데이터셋(sale, rent, listings) 설정/어댑터/컬럼 스키마 확인 및 보강 필요 여부 정리
- 2. 컬럼 스키마: `Application/datasets/contracts.ts`에 컬럼 정의 추가/정리, 우선 노출 컬럼 선정(현재 백엔드 제공 중심)
- 3. 정렬: `useSortableColumns()` 경로(/columns) 확인, 허용 컬럼 기반 헤더 정렬 제한, 서버 파라미터 매핑 검증
- 4. 필터: 지역/금액/면적/연식/날짜/유형 등 클라이언트 우선 → 서버 지원 시 점진 이관, 키 매핑(registry.ts 매핑 규칙 일치)
- 5. 뷰: `SearchResults` 컴포넌트(목록/지도/통합) 구성과 상태/페이지네이션/빈상태/로딩/에러 공통 UX 준수
- 6. 지도: 마커 좌표 파싱/스왑/결측 가드 및 상한(cap) 처리, 통합 뷰 상호작용(행 선택→지도 포커스)
- 7. 팝업/상세: `PropertyDetailDialog` 연동(도로명주소/행 클릭), 상세 훅 캐시 프리페치
- 8. QA 체크리스트: 정렬 허용, 페이지네이션 합계, 필터 적용, 지도 마커 표시/상한, 빈 상태, 성능

### 산출물

- dataset 점검 결과표, 필터 사양, 컬럼 노출 우선순위, 정렬 허용 컬럼 목록, QA 체크리스트
