### [ìš”ì²­] í”„ë¡ íŠ¸ì—”ë“œ: ìƒì„¸ ë¶„ì„ í™”ë©´ì„ ìœ„í•œ ë¹„êµ ë§¤ë¬¼ ë°ì´í„° API ê°œë°œ ìš”ì²­

**1. ìš”ì²­ ì¼ì‹œ:** 2025-08-05
**2. ìš”ì²­ì:** í”„ë¡ íŠ¸ì—”ë“œ íŒ€
**3. ê´€ë ¨ ë¬¸ì„œ:**

- `Doc/PRD.md` (ê¸°ëŠ¥ 2: ìƒì„¸ ë¶„ì„ í™”ë©´, ë¹„êµ ë¶„ì„ ê¸°ëŠ¥)
- `Doc/FRONTEND_ARCHITECTURE.md` (4.2. ë°ì´í„° íë¦„ ë‹¤ì´ì–´ê·¸ë¨)
- `PROJECT_FRONTEND_ROADMAP.md` (Phase 3: Task 4.2.2)

---

### **4. ìš”ì²­ ë°°ê²½ (Why)**

í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œ ë¡œë“œë§µì˜ **Phase 3: ìƒì„¸ ë¶„ì„ í™”ë©´ ê°œë°œ** ì¤‘ 'ë¹„êµ ë°ì´í„° ë¶„ì„ ê¸°ëŠ¥'ì„ êµ¬í˜„í•˜ê¸° ìœ„í•´ í•„ìš”í•©ë‹ˆë‹¤.

í˜„ì¬ `useItemDetail` í›…ì„ í†µí•œ ê°œë³„ ë§¤ë¬¼ ìƒì„¸ ì •ë³´ëŠ” êµ¬í˜„ë˜ì—ˆìœ¼ë‚˜, í•´ë‹¹ ë§¤ë¬¼ê³¼ **ìœ ì‚¬í•œ ë§¤ë¬¼ë“¤ì˜ ë¹„êµ ë°ì´í„°**ë¥¼ ê°€ì ¸ì˜¤ëŠ” APIê°€ ì—†ì–´ ë¹„êµ ë¶„ì„ íƒ­ ê¸°ëŠ¥ ê°œë°œì´ **ì°¨ë‹¨(Blocked)**ëœ ìƒíƒœì…ë‹ˆë‹¤.

---

### **5. ìƒì„¸ ìš”êµ¬ì‚¬í•­ (What)**

#### **5-1. Endpoint & Method**

- **Method:** `GET`
- **Endpoint:** `/api/v1/items/{item_id}/comparables`

#### **5-2. Path Parameters**

| íŒŒë¼ë¯¸í„° ëª… | íƒ€ì…     | ì„¤ëª…                  | ì˜ˆì‹œ                            |
| :---------- | :------- | :-------------------- | :------------------------------ |
| `item_id`   | `string` | ê¸°ì¤€ì´ ë˜ëŠ” ë§¤ë¬¼ì˜ ID | `/api/v1/items/123/comparables` |

#### **5-3. Query Parameters (ì„ íƒì )**

| íŒŒë¼ë¯¸í„° ëª… | íƒ€ì…     | ì„¤ëª…                              | ì˜ˆì‹œ             |
| :---------- | :------- | :-------------------------------- | :--------------- |
| `radius`    | `number` | ê²€ìƒ‰ ë°˜ê²½ (km, ê¸°ë³¸ê°’: 1)         | `?radius=2`      |
| `limit`     | `number` | ìµœëŒ€ ë¹„êµ ë§¤ë¬¼ ìˆ˜ (ê¸°ë³¸ê°’: 10)    | `?limit=5`       |
| `sort`      | `string` | ì •ë ¬ ê¸°ì¤€ (distance, price, area) | `?sort=distance` |

#### **5-4. ì„±ê³µ ì‘ë‹µ (Success Response)**

- **Status Code:** `200 OK`
- **Content-Type:** `application/json`
- **Body Structure:** ê¸°ì¤€ ë§¤ë¬¼ê³¼ ìœ ì‚¬í•œ ë§¤ë¬¼ë“¤ì˜ ë°°ì—´ê³¼ ë¹„êµ í†µê³„ ì •ë³´

```json
{
  "baseItem": {
    "id": "123",
    "title": "ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ ë¹Œë¼",
    "price": 45000,
    "area": 25,
    "buildYear": 2010
  },
  "comparables": [
    {
      "id": "124",
      "title": "ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ ë¹Œë¼ 2",
      "address": "ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì—­ì‚¼ë™ 124-46",
      "price": 47000,
      "area": 27,
      "buildYear": 2012,
      "distance": 0.3,
      "pricePerArea": 1741,
      "similarity": 0.85
    }
  ],
  "statistics": {
    "averagePrice": 46500,
    "averagePricePerArea": 1720,
    "priceRange": {
      "min": 42000,
      "max": 50000
    },
    "totalCount": 8
  },
  "marketAnalysis": {
    "priceGradeRelativeToMarket": "average",
    "investmentPotential": "medium",
    "liquidityScore": 7.2
  }
}
```

#### **5-5. ì—ëŸ¬ ì‘ë‹µ**

- **404 Not Found**: ê¸°ì¤€ ë§¤ë¬¼ì´ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²½ìš°
- **400 Bad Request**: ì˜ëª»ëœ íŒŒë¼ë¯¸í„° ê°’

---

### **6. ìš°ì„ ìˆœìœ„ ë° í¬ë§ ì™„ë£Œì¼**

- **ìš°ì„ ìˆœìœ„:** Medium (GET /api/v1/items ì™„ë£Œ í›„)
- **í¬ë§ ì™„ë£Œì¼:** 2025-08-10 (ì¼)
- **ì‹¤ì œ ì™„ë£Œì¼:** âœ… 2025-08-06 (4ì¼ ì•ë‹¹ê¹€!)

GET /api/v1/items API ê°œë°œ ì™„ë£Œ í›„ ìˆœì°¨ì ìœ¼ë¡œ ì§„í–‰í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

---

### **7. ì°¸ê³ ì‚¬í•­**

ì´ APIëŠ” Phase 3ì˜ í•µì‹¬ ê¸°ëŠ¥ì¸ 'ë¹„êµ ë¶„ì„ íƒ­'ì—ì„œ ì‚¬ìš©ë˜ë©°, ì‚¬ìš©ìì—ê²Œ ë§¤ë¬¼ì˜ ì‹œì¥ ë‚´ ìœ„ì¹˜ì™€ íˆ¬ì ê°€ì¹˜ë¥¼ íŒë‹¨í•  ìˆ˜ ìˆëŠ” ì¤‘ìš”í•œ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

---

## âœ… **ì™„ë£Œ ìƒíƒœ ì—…ë°ì´íŠ¸ (2025-08-06)**

### **ë°±ì—”ë“œ ì™„ë£Œ ë‚´ì—­**

**ìš”ì²­í•˜ì‹  Comparables APIê°€ ì™„ì „íˆ êµ¬í˜„ë˜ì–´ ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤!**

#### **ğŸ“ êµ¬í˜„ëœ ì—”ë“œí¬ì¸íŠ¸**

```http
GET /api/v1/items/{item_id}/comparables?radius=1.0&limit=10&sort=similarity
```

#### **âœ… ì™„ë£Œëœ ê¸°ëŠ¥ë“¤**

1. **ì™„ë²½í•œ ìš”ì²­ì‚¬í•­ ì¶©ì¡±**

   - âœ… ëª¨ë“  íŒŒë¼ë¯¸í„° ì§€ì› (`radius`, `limit`, `sort`)
   - âœ… ìš”ì²­í•˜ì‹  JSON ì‘ë‹µ êµ¬ì¡° 100% ì¼ì¹˜
   - âœ… 404/400 ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„

2. **ì¶”ê°€ ê¸°ëŠ¥ ë³´ë„ˆìŠ¤**

   - ğŸ 4ê°€ì§€ ì •ë ¬ ì˜µì…˜: `similarity`, `distance`, `price`, `area`
   - ğŸ ê³ ê¸‰ ì‹œì¥ ë¶„ì„: íˆ¬ì ì ì¬ë ¥, ìœ ë™ì„± ì ìˆ˜
   - ğŸ ìœ ì‚¬ë„ ê³„ì‚° ì•Œê³ ë¦¬ì¦˜

3. **ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥**
   - âœ… ì„œë²„ êµ¬ë™ í™•ì¸ ì™„ë£Œ
   - âœ… API ë¬¸ì„œ ìë™ ìƒì„±: `http://127.0.0.1:8000/docs`
   - âœ… ëª¨ë“  ì—ëŸ¬ ì²˜ë¦¬ ê²€ì¦ ì™„ë£Œ

#### **ğŸš€ ì‚¬ìš© ë°©ë²•**

```javascript
// ë§¤ë¬¼ ID 123ì˜ ë¹„êµ ë¶„ì„ ë°ì´í„° ê°€ì ¸ì˜¤ê¸°
const response = await fetch(
  "/api/v1/items/123/comparables?radius=2&limit=15&sort=distance"
);
const analysisData = await response.json();

// ì¦‰ì‹œ UIì— ì ìš© ê°€ëŠ¥!
console.log(analysisData.baseItem); // ê¸°ì¤€ ë§¤ë¬¼
console.log(analysisData.comparables); // ìœ ì‚¬ ë§¤ë¬¼ ëª©ë¡
console.log(analysisData.statistics); // ì‹œì¥ í†µê³„
console.log(analysisData.marketAnalysis); // íˆ¬ì ë¶„ì„
```

**ğŸ‰ í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì„ ì¦‰ì‹œ ì‹œì‘í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤!**

---

## **ì§„í–‰ ìƒíƒœ**

- **Status:** âœ… **Done**
- **Requester:** í”„ë¡ íŠ¸ì—”ë“œ íŒ€
- **Assignee:** ë°±ì—”ë“œ íŒ€
- **Requested At:** 2025-08-05
- **Completed At:** 2025-08-06
- **History:**
  - 2025-08-05: í”„ë¡ íŠ¸ì—”ë“œ íŒ€ì´ Comparables API ê°œë°œ ìš”ì²­
  - 2025-08-06: ë°±ì—”ë“œ íŒ€ì´ API êµ¬í˜„ ì™„ë£Œ ë° ì‚¬ìš© ê°€ëŠ¥ ì•Œë¦¼
