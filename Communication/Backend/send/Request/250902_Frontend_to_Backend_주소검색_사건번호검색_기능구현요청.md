γ„Ήγ„Ή# π¨ Frontend β†’ Backend κΈ°λ¥ κµ¬ν„ μ”μ²­μ„

## π“‹ μ”μ²­ μ •λ³΄

- **μ”μ²­μΌ**: 2025-09-02
- **μ”μ²­μ**: Frontend Team
- **μμ‹ μ**: Backend Team
- **μ°μ„ μμ„**: π΅ λ³΄ν†µ (Medium)
- **κ΄€λ ¨ μ‹μ¤ν…**: auction_ed (κ³Όκ±°κ²½λ§¤κ²°κ³Ό) API
- **κ΄€λ ¨ κΈ°λ¥**: μ£Όμ†κ²€μƒ‰, μ‚¬κ±΄λ²νΈκ²€μƒ‰

## π― μ”μ²­ μ λ©

**auction_ed API μ£Όμ†κ²€μƒ‰ λ° μ‚¬κ±΄λ²νΈκ²€μƒ‰ ν•„ν„°λ§ κΈ°λ¥ κµ¬ν„**

## π“ ν„μ¬ λ¬Έμ  μƒν™©

### π¨ **κ²€μƒ‰ κΈ°λ¥ λ¬Έμ μ **

1. **μ£Όμ†κ²€μƒ‰ λ―Έμ‘λ™**: ν”„λ΅ νΈμ—”λ“μ—μ„ μ£Όμ†κ²€μƒ‰ μ‹ ν•„ν„°λ§λμ§€ μ•μ
2. **μ‚¬κ±΄λ²νΈκ²€μƒ‰ λ―Έμ‘λ™**: ν”„λ΅ νΈμ—”λ“μ—μ„ μ‚¬κ±΄λ²νΈκ²€μƒ‰ μ‹ ν•„ν„°λ§λμ§€ μ•μ
3. **κ²€μƒ‰ νλΌλ―Έν„° λ―Έμ²λ¦¬**: λ°±μ—”λ“μ—μ„ κ²€μƒ‰ κ΄€λ ¨ νλΌλ―Έν„°λ¥Ό μ²λ¦¬ν•μ§€ μ•μ

### π” **ν„μ¬ ν”„λ΅ νΈμ—”λ“ κµ¬ν„**

```typescript
// ν„μ¬ ν”„λ΅ νΈμ—”λ“μ—μ„ μ „μ†΅ν•λ” κ²€μƒ‰ νλΌλ―Έν„°
const handleAddressSearch = () => {
  setFilter("searchField", "address");
  setFilter("searchQuery", addressSearch);
};

const handleCaseNumberSearch = () => {
  setFilter("searchField", "case_number");
  setFilter("searchQuery", caseNumberSearch);
};
```

### π **μ¬ν„ κ²½λ΅**

1. `http://localhost:3000/analysis/101/v2?ds=auction_ed` μ ‘μ†
2. μ°μΈ΅ ν•„ν„° ν¨λ„ β†’ "μ£Όμ† κ²€μƒ‰" μ„Ήμ…μ—μ„ μ£Όμ† μ…λ ¥ ν›„ κ²€μƒ‰
3. μ°μΈ΅ ν•„ν„° ν¨λ„ β†’ "μ‚¬κ±΄λ²νΈ κ²€μƒ‰" μ„Ήμ…μ—μ„ μ‚¬κ±΄λ²νΈ μ…λ ¥ ν›„ κ²€μƒ‰
4. κ²°κ³Ό: κ²€μƒ‰μ–΄μ™€ κ΄€κ³„μ—†μ΄ λ¨λ“  λ°μ΄ν„°κ°€ ν‘μ‹λ¨

## π― **μ”μ²­ μ‚¬ν•­**

### 1οΈβƒ£ **μ£Όμ†κ²€μƒ‰ κΈ°λ¥ κµ¬ν„**

**ν•„ν„° νλΌλ―Έν„°**:

```
GET /api/v1/auction-completed/?searchField=address&searchQuery=κ°•λ‚¨κµ¬
```

**ν•„ν„°λ§ λ΅μ§**:

- **λ€μƒ μ»¬λΌ**: `μ†μ¬μ§€` (location/address μ»¬λΌ)
- **κ²€μƒ‰ λ°©μ‹**: **λ¶€λ¶„ μΌμΉ** (`ILIKE '%κ²€μƒ‰μ–΄%'` λλ” `LIKE '%κ²€μƒ‰μ–΄%'`)
- **λ€μ†λ¬Έμ λ¬΄μ‹**: ν•κΈ€μ΄λ―€λ΅ λ€μ†λ¬Έμ κµ¬λ¶„ λ¶ν•„μ”
- **κ³µλ°± μ²λ¦¬**: κ²€μƒ‰μ–΄ μ•λ’¤ κ³µλ°± μ κ±° (`TRIM`)

**μμ‹**:

```sql
-- μ”μ²­: searchField=address&searchQuery=κ°•λ‚¨κµ¬
-- SQL μ΅°κ±΄:
WHERE μ†μ¬μ§€ IS NOT NULL
  AND μ†μ¬μ§€ != ''
  AND μ†μ¬μ§€ ILIKE '%κ°•λ‚¨κµ¬%'
```

**ν…μ¤νΈ μΌ€μ΄μ¤**:

- `searchQuery=κ°•λ‚¨κµ¬` β†’ μ†μ¬μ§€μ— "κ°•λ‚¨κµ¬"κ°€ ν¬ν•¨λ λ°μ΄ν„°λ§ λ°ν™
- `searchQuery=μ„μΈνΉλ³„μ‹` β†’ μ†μ¬μ§€μ— "μ„μΈνΉλ³„μ‹"κ°€ ν¬ν•¨λ λ°μ΄ν„°λ§ λ°ν™
- `searchQuery=μ—­μ‚Όλ™` β†’ μ†μ¬μ§€μ— "μ—­μ‚Όλ™"μ΄ ν¬ν•¨λ λ°μ΄ν„°λ§ λ°ν™

### 2οΈβƒ£ **μ‚¬κ±΄λ²νΈκ²€μƒ‰ κΈ°λ¥ κµ¬ν„**

**ν•„ν„° νλΌλ―Έν„°**:

```
GET /api/v1/auction-completed/?searchField=case_number&searchQuery=2024νƒ€κ²½12345
```

**ν•„ν„°λ§ λ΅μ§**:

- **λ€μƒ μ»¬λΌ**: `μ‚¬κ±΄λ²νΈ` (case_number μ»¬λΌ)
- **κ²€μƒ‰ λ°©μ‹**: **λ¶€λ¶„ μΌμΉ** (`ILIKE '%κ²€μƒ‰μ–΄%'` λλ” `LIKE '%κ²€μƒ‰μ–΄%'`)
- **μ«μ/λ¬Έμ νΌν•©**: μ‚¬κ±΄λ²νΈλ” "2024νƒ€κ²½12345" ν•νƒμ΄λ―€λ΅ λ¬Έμμ—΄ κ²€μƒ‰
- **κ³µλ°± μ²λ¦¬**: κ²€μƒ‰μ–΄ μ•λ’¤ κ³µλ°± μ κ±° (`TRIM`)

**μμ‹**:

```sql
-- μ”μ²­: searchField=case_number&searchQuery=2024νƒ€κ²½
-- SQL μ΅°κ±΄:
WHERE μ‚¬κ±΄λ²νΈ IS NOT NULL
  AND μ‚¬κ±΄λ²νΈ != ''
  AND μ‚¬κ±΄λ²νΈ ILIKE '%2024νƒ€κ²½%'
```

**ν…μ¤νΈ μΌ€μ΄μ¤**:

- `searchQuery=2024νƒ€κ²½` β†’ μ‚¬κ±΄λ²νΈμ— "2024νƒ€κ²½"μ΄ ν¬ν•¨λ λ°μ΄ν„°λ§ λ°ν™
- `searchQuery=12345` β†’ μ‚¬κ±΄λ²νΈμ— "12345"κ°€ ν¬ν•¨λ λ°μ΄ν„°λ§ λ°ν™
- `searchQuery=νƒ€κ²½` β†’ μ‚¬κ±΄λ²νΈμ— "νƒ€κ²½"μ΄ ν¬ν•¨λ λ°μ΄ν„°λ§ λ°ν™

### 3οΈβƒ£ **κ²€μƒ‰ νλΌλ―Έν„° μ²λ¦¬ λ΅μ§**

**νλΌλ―Έν„° μ΅°ν•©**:

```
GET /api/v1/auction-completed/?searchField=address&searchQuery=κ°•λ‚¨κµ¬&address_area=μ„μΈνΉλ³„μ‹
```

**μ°μ„ μμ„**:

1. **searchFieldκ°€ μ—†κ±°λ‚ "all"μΈ κ²½μ°**: κ²€μƒ‰ ν•„ν„° μ μ© μ• ν•¨
2. **searchField="address"μΈ κ²½μ°**: μ†μ¬μ§€ μ»¬λΌμ—μ„ searchQueryλ΅ κ²€μƒ‰
3. **searchField="case_number"μΈ κ²½μ°**: μ‚¬κ±΄λ²νΈ μ»¬λΌμ—μ„ searchQueryλ΅ κ²€μƒ‰
4. **λ‹¤λ¥Έ ν•„ν„°μ™€ μ΅°ν•©**: μ§€μ—­ ν•„ν„°, λ§¤κ°κ°€ ν•„ν„° λ“±κ³Ό AND μ΅°κ±΄μΌλ΅ κ²°ν•©

**SQL μμ‹**:

```sql
-- λ³µν•© ν•„ν„° μμ‹
WHERE address_area = 'μ„μΈνΉλ³„μ‹'
  AND address_city = 'μ„μΈνΉλ³„μ‹ κ°•λ‚¨κµ¬'
  AND max_final_sale_price <= 10000
  AND μ†μ¬μ§€ ILIKE '%μ—­μ‚Όλ™%'  -- μ£Όμ†κ²€μƒ‰ μ¶”κ°€
```

## π”§ **κΈ°μ μ  μ”κµ¬μ‚¬ν•­**

### **1. μ„±λ¥ μµμ ν™”**

- **μΈλ±μ¤ μ¶”κ°€**: `μ†μ¬μ§€`, `μ‚¬κ±΄λ²νΈ` μ»¬λΌμ— μΈλ±μ¤ μƒμ„± κ³ λ ¤
- **LIKE μµμ ν™”**: PostgreSQLμ κ²½μ° `pg_trgm` ν™•μ¥ μ‚¬μ© κ³ λ ¤
- **κ²€μƒ‰μ–΄ κΈΈμ΄ μ ν•**: μµμ† 2μ μ΄μƒ, μµλ€ 100μ μ΄ν•

### **2. μ—λ¬ μ²λ¦¬**

- **λΉ κ²€μƒ‰μ–΄**: `searchQuery`κ°€ λΉ λ¬Έμμ—΄μΈ κ²½μ° ν•„ν„° λ¬΄μ‹
- **νΉμλ¬Έμ μ²λ¦¬**: SQL μΈμ μ… λ°©μ§€λ¥Ό μ„ν• μ΄μ¤μΌ€μ΄ν”„ μ²λ¦¬
- **NULL μ²λ¦¬**: μ»¬λΌ κ°’μ΄ NULLμΈ κ²½μ° κ²€μƒ‰ λ€μƒμ—μ„ μ μ™Έ

### **3. μ‘λ‹µ μµμ ν™”**

- **κ²€μƒ‰ κ²°κ³Ό κ°μ**: κ²€μƒ‰ μ μ© ν›„ μ΄ κ±΄μ λ°ν™
- **ν•μ΄λΌμ΄ν…**: κ²€μƒ‰μ–΄κ°€ ν¬ν•¨λ λ¶€λ¶„ ν‘μ‹ (μ„ νƒμ‚¬ν•­)
- **μ‘λ‹µ μ‹κ°„**: κ²€μƒ‰ μΏΌλ¦¬ μ‘λ‹µ μ‹κ°„ < 2μ΄

## π“‹ **μ™„λ£ μ΅°κ±΄ (DoD)**

### β… **API κµ¬ν„ μ™„λ£**

1. **μ£Όμ†κ²€μƒ‰**: `searchField=address&searchQuery=κ°•λ‚¨κµ¬` νλΌλ―Έν„°λ΅ μ¬λ°”λ¥Έ λ°μ΄ν„° λ°ν™
2. **μ‚¬κ±΄λ²νΈκ²€μƒ‰**: `searchField=case_number&searchQuery=2024νƒ€κ²½` νλΌλ―Έν„°λ΅ μ¬λ°”λ¥Έ λ°μ΄ν„° λ°ν™
3. **λ³µν•© ν•„ν„°**: λ‹¤λ¥Έ ν•„ν„°λ“¤κ³Ό AND μ΅°κ±΄μΌλ΅ μ •μƒ μ‘λ™

### β… **ν…μ¤νΈ μΌ€μ΄μ¤**

1. **μ£Όμ†κ²€μƒ‰ ν…μ¤νΈ**:

   - `searchQuery=κ°•λ‚¨κµ¬` β†’ μ†μ¬μ§€μ— "κ°•λ‚¨κµ¬" ν¬ν•¨ λ°μ΄ν„°λ§ λ°ν™
   - `searchQuery=μ„μΈ` β†’ μ†μ¬μ§€μ— "μ„μΈ" ν¬ν•¨ λ°μ΄ν„°λ§ λ°ν™
   - `searchQuery=` β†’ λ¨λ“  λ°μ΄ν„° λ°ν™ (ν•„ν„° λ¬΄μ‹)

2. **μ‚¬κ±΄λ²νΈκ²€μƒ‰ ν…μ¤νΈ**:

   - `searchQuery=2024` β†’ μ‚¬κ±΄λ²νΈμ— "2024" ν¬ν•¨ λ°μ΄ν„°λ§ λ°ν™
   - `searchQuery=νƒ€κ²½` β†’ μ‚¬κ±΄λ²νΈμ— "νƒ€κ²½" ν¬ν•¨ λ°μ΄ν„°λ§ λ°ν™
   - `searchQuery=` β†’ λ¨λ“  λ°μ΄ν„° λ°ν™ (ν•„ν„° λ¬΄μ‹)

3. **λ³µν•© ν•„ν„° ν…μ¤νΈ**:
   - μ§€μ—­ ν•„ν„° + μ£Όμ†κ²€μƒ‰ μ΅°ν•© ν…μ¤νΈ
   - λ§¤κ°κ°€ ν•„ν„° + μ‚¬κ±΄λ²νΈκ²€μƒ‰ μ΅°ν•© ν…μ¤νΈ

### β… **μ„±λ¥ κΈ°μ¤€**

- **κ²€μƒ‰ μΏΌλ¦¬**: μ‘λ‹µ μ‹κ°„ < 2μ΄
- **λ³µν•© ν•„ν„°**: μ‘λ‹µ μ‹κ°„ < 3μ΄
- **λ™μ‹ μ”μ²­**: 50 req/s μ΄μƒ μ²λ¦¬

## π€ **ν”„λ΅ νΈμ—”λ“ μ—°λ™ κ³„ν**

**λ°±μ—”λ“ μ™„λ£ ν›„ ν”„λ΅ νΈμ—”λ“μ—μ„ ν™•μΈν•  μ‚¬ν•­**:

1. **κ²€μƒ‰ νλΌλ―Έν„° μ „μ†΅**:

   ```typescript
   // μ£Όμ†κ²€μƒ‰
   setFilter("searchField", "address");
   setFilter("searchQuery", "κ°•λ‚¨κµ¬");

   // μ‚¬κ±΄λ²νΈκ²€μƒ‰
   setFilter("searchField", "case_number");
   setFilter("searchQuery", "2024νƒ€κ²½");
   ```

2. **κ²€μƒ‰ κ²°κ³Ό ν™•μΈ**:

   - κ²€μƒ‰μ–΄μ— λ§λ” λ°μ΄ν„°λ§ ν‘μ‹λλ”μ§€ ν™•μΈ
   - λ‹¤λ¥Έ ν•„ν„°μ™€ μ΅°ν•© μ‹ μ •μƒ μ‘λ™ν•λ”μ§€ ν™•μΈ

3. **UI κ°μ„ **:
   - κ²€μƒ‰ κ²°κ³Ό ν•μ΄λΌμ΄ν… (μ„ νƒμ‚¬ν•­)
   - κ²€μƒ‰ μ¤‘ λ΅λ”© μƒνƒ ν‘μ‹

## π“ **κ΄€λ ¨ νμΌ**

**ν”„λ΅ νΈμ—”λ“**:

- `Application/components/features/auction-ed/AuctionEdFilter.tsx` (κ²€μƒ‰ UI)
- `Application/datasets/registry.ts` (κ²€μƒ‰ νλΌλ―Έν„° λ§¤ν•‘)

**λ°±μ—”λ“ (μμƒ)**:

- `app/api/v1/endpoints/auction_completed.py` (κ²€μƒ‰ νλΌλ―Έν„° μ²λ¦¬)
- `app/crud/crud_auction_completed.py` (κ²€μƒ‰ ν•„ν„°λ§ λ΅μ§)
- `app/models/auction_completed.py` (μ»¬λΌ ν™•μΈ)

## π”„ **μ°μ„ μμ„ λ° μΌμ •**

**Phase 1 (μ°μ„ )**:

- μ£Όμ†κ²€μƒ‰ κΈ°λ¥ κµ¬ν„
- μ‚¬κ±΄λ²νΈκ²€μƒ‰ κΈ°λ¥ κµ¬ν„
- κΈ°λ³Έ ν…μ¤νΈ μΌ€μ΄μ¤ κ²€μ¦

**Phase 2 (ν›„μ†)**:

- μ„±λ¥ μµμ ν™” (μΈλ±μ¤ μ¶”κ°€)
- κ²€μƒ‰ κ²°κ³Ό ν•μ΄λΌμ΄ν…
- κ³ κΈ‰ κ²€μƒ‰ κΈ°λ¥ (μ •ν™• μΌμΉ, μ •κ·μ‹ λ“±)

## π“ **μ¶”κ°€ λ¬Έμμ‚¬ν•­**

1. **μ»¬λΌλ… ν™•μΈ**: μ‹¤μ  DBμ—μ„ μ†μ¬μ§€, μ‚¬κ±΄λ²νΈ μ»¬λΌλ…μ΄ λ¬΄μ—‡μΈκ°€μ”?
2. **λ°μ΄ν„° ν•νƒ**: μ†μ¬μ§€μ™€ μ‚¬κ±΄λ²νΈ λ°μ΄ν„°κ°€ μ–΄λ–¤ ν•νƒλ΅ μ €μ¥λμ–΄ μλ‚μ”?
3. **μΈλ±μ¤ ν„ν™©**: ν„μ¬ μ†μ¬μ§€, μ‚¬κ±΄λ²νΈ μ»¬λΌμ— μΈλ±μ¤κ°€ μλ‚μ”?

---

**μ™„λ£ μ‹ νμ‹  μ”μ²­μ‚¬ν•­**:

- κµ¬ν„λ κ²€μƒ‰ νλΌλ―Έν„° λ…μ„Έ
- ν…μ¤νΈ κ²°κ³Ό λ° μƒν” κ²€μƒ‰ μΏΌλ¦¬
- μ‹¤μ  μ»¬λΌλ… λ° λ°μ΄ν„° ν•νƒ μ •λ³΄

μ΄μƒμ…λ‹λ‹¤. λΉ λ¥Έ κµ¬ν„ λ¶€νƒλ“λ¦¬λ©°, μ¶”κ°€ λ¬Έμμ‚¬ν•­μ΄ μμΌμ‹λ©΄ μ–Έμ λ“  μ—°λ½ λ¶€νƒλ“λ¦½λ‹λ‹¤.
