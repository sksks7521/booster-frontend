# [ë°±ì—”ë“œâ†’í”„ë¡ íŠ¸ì—”ë“œ] Items API ì¶”ê°€ ì»¬ëŸ¼ ë¶„ì„ ë° ì œì•ˆ (2025-08-20)

## 1. ìš”ì²­ ë¶„ì„ ê²°ê³¼ (Analysis Results)

âœ… **auction_items í…Œì´ë¸” ì „ì²´ ìŠ¤í‚¤ë§ˆ ë¶„ì„ ì™„ë£Œ**

- ì´ 48ê°œ ì»¬ëŸ¼ ë³´ìœ 
- 1,000ê°œ ìƒ˜í”Œ ë°ì´í„° ê¸°ì¤€ ë¶„ì„ ì™„ë£Œ
- ì»¬ëŸ¼ë³„ ë°ì´í„° ì¡´ì¬ìœ¨ ì¡°ì‚¬ ì™„ë£Œ

---

## 2. í˜„ì¬ API vs DB ìŠ¤í‚¤ë§ˆ ë¹„êµ

### **í˜„ì¬ /api/v1/items/simple ì œê³µ ì»¬ëŸ¼ (14ê°œ)**

| API í•„ë“œ       | DB ì»¬ëŸ¼                       | ë°ì´í„° ì¡´ì¬ìœ¨ | ë¹„ê³                         |
| -------------- | ----------------------------- | ------------- | --------------------------- |
| id             | id                            | 100%          | âœ… ì •ìƒ                     |
| title          | building_name/location_detail | 0%/100%       | âœ… location_detail ì‚¬ìš©     |
| address        | road_address                  | 100%          | âœ… ì •ìƒ                     |
| price          | minimum_bid_price             | 100%          | âœ… ì •ìƒ                     |
| area           | building_area_pyeong          | 100%          | âœ… ì •ìƒ                     |
| buildYear      | construction_year             | 94%           | âœ… ì •ìƒ                     |
| lat/lng        | latitude/longitude            | 99.6%         | âœ… ì •ìƒ                     |
| auctionDate    | sale_date                     | 0%            | âŒ **ë¬¸ì œ**: ëª¨ë“  ê°’ì´ NULL |
| status         | current_status                | 100%          | âœ… ì •ìƒ                     |
| floor          | floor_info                    | 0%            | âŒ **ë¬¸ì œ**: ëª¨ë“  ê°’ì´ NULL |
| hasElevator    | elevator_available            | 100%          | âœ… ì •ìƒ                     |
| hasParking     | ì—†ìŒ                          | N/A           | âŒ **ë°ì´í„° ì—†ìŒ**          |
| estimatedValue | appraised_value               | 100%          | âœ… ì •ìƒ                     |

---

## 3. ì¶”ê°€ ë…¸ì¶œ ì œì•ˆ ì»¬ëŸ¼ (Priority ê¸°ì¤€)

### **ğŸ”¥ High Priority (ì¦‰ì‹œ ì¶”ê°€ ê¶Œì¥)**

| ìƒˆ API í•„ë“œ           | DB ì»¬ëŸ¼                | ë°ì´í„° ì¡´ì¬ìœ¨ | ì‚¬ìš© ëª©ì               | ìƒ˜í”Œ ê°’     |
| --------------------- | ---------------------- | ------------- | ---------------------- | ----------- |
| **buildingAreaRange** | building_area_range    | 100%          | ë©´ì  ë²”ìœ„ í‘œì‹œ         | "15í‰~20í‰" |
| **landArea**          | land_area_pyeong       | 98.9%         | í† ì§€ ë©´ì  ì •ë³´         | 18.39       |
| **publicPrice**       | public_price           | 100%          | ê³µì‹œê°€ê²© ë¹„êµ          | 9,210ë§Œì›   |
| **bidRatio**          | bid_to_appraised_ratio | 100%          | íˆ¬ì íŒë‹¨ ì§€í‘œ         | 49.0%       |
| **under100Million**   | under_100million       | 100%          | íˆ¬ì êµ¬ë¶„              | "O (ì´í•˜)"  |
| **saleMonth**         | sale_month             | 100%          | ê²½ë§¤ ì›” ì •ë³´           | 8           |
| **actualFloor**       | floor_confirmation     | 100%          | ì‹¤ì œ ì¸µìˆ˜ (floor ëŒ€ì²´) | "1ì¸µ"       |

### **ğŸŸ¡ Medium Priority (ì„ íƒì  ì¶”ê°€)**

| ìƒˆ API í•„ë“œ       | DB ì»¬ëŸ¼                 | ë°ì´í„° ì¡´ì¬ìœ¨ | ì‚¬ìš© ëª©ì       | ìƒ˜í”Œ ê°’         |
| ----------------- | ----------------------- | ------------- | -------------- | --------------- |
| **specialRights** | special_rights          | 73.4%         | ê¶Œë¦¬ ê´€ê³„ ì •ë³´ | "ë³„ë„ë“±ê¸°"      |
| **regionGroup**   | region_group            | 100%          | ì§€ì—­ ë¶„ë¥˜      | "etc"           |
| **sido**          | sido                    | 94%           | ì‹œë„ ì •ë³´      | "ê²½ê¸°ë„"        |
| **caseInfo**      | case_number + case_year | 100%          | ì‚¬ê±´ ì •ë³´      | "2024íƒ€ê²½12345" |

---

## 4. ë¬¸ì œì  í•´ê²° ë°©ì•ˆ

### **âŒ í˜„ì¬ ë¬¸ì œë˜ëŠ” í•„ë“œë“¤**

1. **`auctionDate`** (sale_date): 0% ë°ì´í„° â†’ `saleMonth` ëŒ€ì²´ ì œì•ˆ
2. **`floor`** (floor_info): 0% ë°ì´í„° â†’ `actualFloor` (floor_confirmation) ëŒ€ì²´ ì œì•ˆ
3. **`hasParking`**: ë°ì´í„° ìì²´ ì—†ìŒ â†’ ì œê±° ê¶Œì¥

---

## 5. API í™•ì¥ ë°©ì•ˆ ì œì•ˆ

### **ë°©ì•ˆ A: ê¸°ì¡´ API í™•ì¥ (ê¶Œì¥)**

```typescript
// ê¸°ì¡´ ìœ ì§€ + ìƒˆ í•„ë“œ ì¶”ê°€
interface ItemSimple {
  // ê¸°ì¡´ í•„ë“œë“¤ ìœ ì§€...

  // ìƒˆ ì¶”ê°€ í•„ë“œë“¤ (optional)
  buildingAreaRange?: string;
  landArea?: number;
  publicPrice?: number;
  bidRatio?: number;
  under100Million?: string;
  saleMonth?: number;
  actualFloor?: string;
  specialRights?: string;
  regionGroup?: string;
  sido?: string;
}
```

**ì¥ì **:

- ê¸°ì¡´ ì½”ë“œ í˜¸í™˜ì„± 100% ìœ ì§€
- ìƒˆ í•„ë“œëŠ” `optional`ë¡œ ì•ˆì „í•˜ê²Œ ì¶”ê°€
- ì„±ëŠ¥ ì˜í–¥ ìµœì†Œí™”

### **ë°©ì•ˆ B: íŒŒë¼ë¯¸í„° ê¸°ë°˜ í™•ì¥**

```
GET /api/v1/items/simple?expand=all
GET /api/v1/items/simple?expand=location,price,building
```

**ì¥ì **:

- í•„ìš”ì— ë”°ë¼ ì„ íƒì  ë¡œë“œ ê°€ëŠ¥
- ì„±ëŠ¥ ìµœì í™” ê°€ëŠ¥

---

## 6. êµ¬í˜„ ìš°ì„ ìˆœìœ„ ì œì•ˆ

### **Phase 1: ì¦‰ì‹œ êµ¬í˜„ (ì´ë²ˆ ì£¼)**

```typescript
// ë°ì´í„° í’ˆì§ˆì´ 100%ì¸ í•µì‹¬ í•„ë“œë“¤
{
  buildingAreaRange: string; // "15í‰~20í‰"
  publicPrice: number; // 9210
  bidRatio: number; // 49.0
  saleMonth: number; // 8
  actualFloor: string; // "1ì¸µ" (ê¸°ì¡´ floor ëŒ€ì²´)
}
```

### **Phase 2: ì„ íƒì  êµ¬í˜„ (ë‹¤ìŒ ì£¼)**

```typescript
// íˆ¬ì íŒë‹¨ì— ìœ ìš©í•œ ì¶”ê°€ í•„ë“œë“¤
{
  landArea?: number;         // 18.39
  under100Million?: string;  // "O (ì´í•˜)"
  specialRights?: string;    // "ë³„ë„ë“±ê¸°"
  sido?: string;            // "ê²½ê¸°ë„"
}
```

---

## 7. ì½”ë“œ ë³€ê²½ ì˜í–¥ë„

### **ë°±ì—”ë“œ ìˆ˜ì • ì‚¬í•­**

- âœ… **ìµœì†Œ ë³€ê²½**: `AuctionItemSimple` ìŠ¤í‚¤ë§ˆì— í•„ë“œ ì¶”ê°€ë§Œ
- âœ… **DB ì¿¼ë¦¬ ë³€ê²½ ë¶ˆìš”**: ê¸°ì¡´ í…Œì´ë¸” ì»¬ëŸ¼ í™œìš©
- âœ… **ì„±ëŠ¥ ì˜í–¥ ì—†ìŒ**: ì¶”ê°€ JOINì´ë‚˜ ì„œë¸Œì¿¼ë¦¬ ë¶ˆí•„ìš”

### **í”„ë¡ íŠ¸ì—”ë“œ ìˆ˜ì • ì‚¬í•­**

- âœ… **ê¸°ì¡´ ì½”ë“œ ì•ˆì „**: ìƒˆ í•„ë“œëŠ” ëª¨ë‘ optional
- âœ… **ì ì§„ì  ì ìš© ê°€ëŠ¥**: `(item as any).newField ?? "-"` íŒ¨í„´ í™œìš©
- âœ… **í…Œì´ë¸” í™•ì¥ ìš©ì´**: ê¸°ì¡´ ì»¬ëŸ¼ì— ìƒˆ ì»¬ëŸ¼ ì¶”ê°€ë§Œ

---

## 8. ìƒ˜í”Œ API ì‘ë‹µ (í™•ì¥ í›„)

```json
{
  "totalItems": 1000,
  "items": [
    {
      "id": 1,
      "title": "ë‹¤ì„¸ëŒ€(ë¹Œë¼) ê²½ê¸°ë„ í™”ì„±ì‹œ ì†¡ì‚°ë©´ ë´‰ê°€ê¸¸ 100",
      "address": "ê²½ê¸°ë„ í™”ì„±ì‹œ ì†¡ì‚°ë©´ ë´‰ê°€ê¸¸ 100",
      "price": 6860,
      "area": 15.49,
      "buildYear": 2015,

      // ğŸ†• ìƒˆë¡œ ì¶”ê°€ë˜ëŠ” í•„ë“œë“¤
      "buildingAreaRange": "15í‰~20í‰",
      "landArea": 18.39,
      "publicPrice": 9210,
      "bidRatio": 49.0,
      "under100Million": "O (ì´í•˜)",
      "saleMonth": 8,
      "actualFloor": "1ì¸µ",
      "specialRights": "ë³„ë„ë“±ê¸°",
      "sido": "ê²½ê¸°ë„",

      // ê¸°ì¡´ ìœ ì§€
      "lat": 37.21124028,
      "lng": 126.7350413,
      "status": "ìœ ì°°(2íšŒ)",
      "hasElevator": true,
      "estimatedValue": 14000
    }
  ]
}
```

---

## 9. ì•¡ì…˜ ì•„ì´í…œ

### **ë°±ì—”ë“œ ì‘ì—… (ì˜ˆìƒ ì†Œìš”: 30ë¶„)**

- [ ] `AuctionItemSimple` ìŠ¤í‚¤ë§ˆì— ìƒˆ í•„ë“œ 7ê°œ ì¶”ê°€
- [ ] `auction_items.py` ì—”ë“œí¬ì¸íŠ¸ì—ì„œ í•„ë“œ ë§¤í•‘ ì¶”ê°€
- [ ] API í…ŒìŠ¤íŠ¸ ë° ê²€ì¦

### **í”„ë¡ íŠ¸ì—”ë“œ í™•ì¸ í•„ìš”**

- [ ] Phase 1 í•„ë“œë“¤ ìš°ì„  ì ìš© í¬ë§ ì—¬ë¶€ í™•ì¸
- [ ] í…Œì´ë¸” ì»¬ëŸ¼ ì¶”ê°€ ì‹œ UI ë ˆì´ì•„ì›ƒ ì˜í–¥ë„ í™•ì¸
- [ ] íŠ¹ì • í•„ë“œ í‘œì‹œ í˜•ì‹ ìš”êµ¬ì‚¬í•­ (ì˜ˆ: bidRatioë¥¼ "49.0%" vs "49.0" ì¤‘ ì„ íƒ)

---

## 10. ì§„í–‰ ìƒíƒœ

- **Status:** Requested
- **Requester:** ë°±ì—”ë“œ íŒ€
- **Assignee:** í”„ë¡ íŠ¸ì—”ë“œ íŒ€
- **Requested At:** 2025-08-20
- **Expected Completion:** 2025-08-21 (Phase 1)

---

**ğŸš€ ê²°ë¡ **: ë°ì´í„° í’ˆì§ˆì´ ìš°ìˆ˜í•œ 7ê°œ í•µì‹¬ í•„ë“œë¥¼ ìš°ì„  ì¶”ê°€í•˜ì—¬ í•„í„° ê²€ì¦ ë° ì‚¬ìš©ì ê²½í—˜ì„ í¬ê²Œ ê°œì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¸°ì¡´ ì½”ë“œì— ëŒ€í•œ ì˜í–¥ì€ ìµœì†Œí™”í•˜ë©´ì„œë„ ë§¤ë¬¼ ì •ë³´ì˜ í’ë¶€í•¨ì„ ëŒ€í­ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆëŠ” ë°©ì•ˆì„ ì œì•ˆë“œë¦½ë‹ˆë‹¤.

**ë‹¤ìŒ ë‹¨ê³„**: í”„ë¡ íŠ¸ì—”ë“œ íŒ€ì˜ Phase 1 ìŠ¹ì¸ ì‹œ ì¦‰ì‹œ êµ¬í˜„ ì°©ìˆ˜ ê°€ëŠ¥í•©ë‹ˆë‹¤.
