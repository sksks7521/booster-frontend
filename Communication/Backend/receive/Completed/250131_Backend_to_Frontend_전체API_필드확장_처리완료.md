# [Backendβ†’Frontend] μ „μ²΄ API ν•„λ“ ν™•μ¥ μ²λ¦¬ μ™„λ£

## β… **μ²λ¦¬ μ™„λ£ μƒνƒ**

- **μ²λ¦¬ μΌμ‹**: 2025-01-31
- **μ²λ¦¬ μ‹κ°„**: μ¦‰μ‹ μ™„λ£ (1μ‹κ°„ μ΄λ‚΄)
- **μƒνƒ**: **πΆ μ™„λ£** - μ„Έ API λ¨λ‘ μ „μ²΄ ν•„λ“ ν™•μ¥ μ™„λ£

## π― **μ²λ¦¬λ API λ©λ΅**

### **1. μ‹¤κ±°λκ°€(λ§¤λ§¤) API** β…

- **μ—”λ“ν¬μΈνΈ**: `/api/v1/real-transactions/`
- **ν•„λ“ ν™•μ¥**: 11κ° β†’ **55κ° ν•„λ“**
- **μƒνƒ**: μ™„λ£

### **2. κ²½λ§¤κ²°κ³Ό API** β…

- **μ—”λ“ν¬μΈνΈ**: `/api/v1/auction-completed/`
- **ν•„λ“ ν™•μ¥**: κΈ°μ΅΄ β†’ **50κ° ν•„λ“** (λ¨λ“  ν•„λ“ ν¬ν•¨)
- **μƒνƒ**: μ™„λ£

### **3. μ‹¤κ±°λκ°€(μ „μ›”μ„Έ) API** β…

- **μ—”λ“ν¬μΈνΈ**: `/api/v1/real-rents/`
- **ν•„λ“ ν™•μ¥**: 16κ° β†’ **55κ° ν•„λ“**
- **μƒνƒ**: μ™„λ£

## π”§ **μμ • λ‚΄μ© μƒμ„Έ**

### **μ‹¤κ±°λκ°€(λ§¤λ§¤) API μμ •μ‚¬ν•­**

```
π“ app/api/v1/endpoints/real_transactions.py
β”β”€β”€ _get_valid_field_names() ν•¨μ μμ • (55κ° ν•„λ“)
β”β”€β”€ ν•„λ“λ… μ¤νƒ€ μμ • (land_rights_area_sqm)
β”β”€β”€ contract_date ν•„λ“ μ¶”κ°€
β”β”€β”€ ν•„λ“ μμ„ μ •λ¦¬ λ° μ£Όμ„ μ¶”κ°€
β””β”€β”€ floor_confirmation λ¬Έμμ—΄ μ²λ¦¬ ν™•μΈ
```

### **κ²½λ§¤κ²°κ³Ό API μμ •μ‚¬ν•­**

```
π“ app/api/v1/endpoints/auction_completed.py
β”β”€β”€ _get_valid_field_names() ν•¨μ μ •λ¦¬ (50κ° ν•„λ“)
β”β”€β”€ ν•„λ“ λ¶„λ¥ λ° μ£Όμ„ μ¶”κ°€
β”β”€β”€ λ¨λ“  λ¨λΈ ν•„λ“ ν¬ν•¨ ν™•μΈ
β””β”€β”€ μ •κ·ν™” λ΅μ§ μ μ§€
```

### **μ‹¤κ±°λκ°€(μ „μ›”μ„Έ) API μμ •μ‚¬ν•­**

```
π“ app/api/v1/endpoints/real_rents.py
β”β”€β”€ _get_valid_field_names() ν•¨μ λ€ν­ ν™•μ¥ (55κ° ν•„λ“)
β”β”€β”€ _normalize_field_value() ν•¨μ μ¶”κ°€
β”β”€β”€ _augment_real_rent_item() ν•¨μ μ¶”κ°€
β”β”€β”€ λ£¨νΈ μ—”λ“ν¬μΈνΈ(/) μ „μ²΄ ν•„λ“ μ‘λ‹µμΌλ΅ μΉκ²©
β”β”€β”€ /full, /custom μ—”λ“ν¬μΈνΈ μ •κ·ν™” λ΅μ§ μ¶”κ°€
β””β”€β”€ λ κ±°μ‹ νΈν™μ„± μ μ§€ (skip/limit μ§€μ›)
```

## π“ **APIλ³„ μ κ³µ ν•„λ“ μ**

| API                  | μμ • μ „ | μμ • ν›„  | μ¦κ°€λ‰ |
| -------------------- | ------- | -------- | ------ |
| **μ‹¤κ±°λκ°€(λ§¤λ§¤)**   | 11κ°    | **55κ°** | +44κ°  |
| **κ²½λ§¤κ²°κ³Ό**         | 48κ°    | **50κ°** | +2κ°   |
| **μ‹¤κ±°λκ°€(μ „μ›”μ„Έ)** | 16κ°    | **55κ°** | +39κ°  |

## π€ **κ³µν†µ κ°μ„ μ‚¬ν•­**

### **1. λ°μ΄ν„° μ •κ·ν™” μ²λ¦¬**

- λΉ λ¬Έμμ—΄(`""`) β†’ `null`λ΅ λ³€ν™
- ν•μ΄ν”(`"-"`) β†’ `null`λ΅ λ³€ν™
- `elevator_available`: 'O'/'X' β†’ `true`/`false` λ³€ν™
- `floor_confirmation`: μ›λ³Έ λ¬Έμμ—΄ μ μ§€ ('1μΈµ', 'μΌλ°μΈµ', 'ν™•μΈλ¶κ°€' λ“±)

### **2. κ³„μ‚° ν•„λ“ μλ™ μƒμ„±**

- **λ§¤λ§¤**: `exclusive_area_pyeong`, `price_per_sqm`
- **μ „μ›”μ„Έ**: `exclusive_area_pyeong`, `deposit_per_pyeong`, `monthly_rent_per_pyeong`, `rental_yield_monthly`, `rental_yield_annual`

### **3. Fallback λ΅μ§**

- μ£Όμ† μ •λ³΄: `road_address_real` β†’ `road_address`
- ν–‰μ • μ •λ³΄: `sido` β†’ `sido_admin`
- κ±΄λ¬Όλ…: `building_name_real` β†’ `building_name`

## π― **API ν…μ¤νΈ λ°©λ²•**

### **μ‹¤κ±°λκ°€(λ§¤λ§¤)**

```bash
GET /api/v1/real-transactions/?page=1&size=1
```

### **κ²½λ§¤κ²°κ³Ό**

```bash
GET /api/v1/auction-completed/?page=1&size=1
```

### **μ‹¤κ±°λκ°€(μ „μ›”μ„Έ)**

```bash
GET /api/v1/real-rents/?page=1&size=1
```

## π“‹ **μ‘λ‹µ ν•μ‹ (κ³µν†µ)**

### **νμ΄μ§€λ„¤μ΄μ… μ‘λ‹µ**

```json
{
  "items": [
    {
      "id": 123456,
      "created_at": "2025-01-30T10:30:00+09:00"
      // ... λ¨λ“  ν•„λ“ ν¬ν•¨ (55κ° λλ” 50κ°)
    }
  ],
  "total": 726423,
  "page": 1,
  "size": 1,
  "total_pages": 726423
}
```

### **λ κ±°μ‹ νΈν™ (μ „μ›”μ„Έλ§)**

```json
{
  "items": [...],
  "total_items": 726423,
  "skip": 0,
  "limit": 10
}
```

## π”„ **νΈν™μ„± λ³΄μ¥**

### **κΈ°μ΅΄ API μ™„μ „ νΈν™**

- β… **μ‘λ‹µ κµ¬μ΅°**: κΈ°μ΅΄κ³Ό λ™μΌν• JSON κµ¬μ΅° μ μ§€
- β… **ν•„λ“ μ„μΉ**: κΈ°μ΅΄ ν•„λ“λ“¤μ€ λ™μΌν• μ„μΉμ— λ™μΌν• ν•μ‹μΌλ΅ μ κ³µ
- β… **ν™•μ¥**: μƒλ΅μ΄ ν•„λ“λ“¤μ΄ μ¶”κ°€λ΅ ν¬ν•¨λ¨
- β… **νλΌλ―Έν„°**: κΈ°μ΅΄ μΏΌλ¦¬ νλΌλ―Έν„° λ¨λ‘ μ§€μ›

### **ν”„λ΅ νΈμ—”λ“ μ μ©**

- β… **μ¦‰μ‹ μ μ© κ°€λ¥**: κΈ°μ΅΄ μ½”λ“ μμ • μ—†μ΄ μ¶”κ°€ ν•„λ“ ν™μ© κ°€λ¥
- β… **μ μ§„μ  μ μ©**: ν•„μ”ν• ν•„λ“λ¶€ν„° λ‹¨κ³„μ μΌλ΅ ν™μ© κ°€λ¥

## π“ **μ„±λ¥ μµμ ν™”**

- **μ‘λ‹µ μ†λ„**: κΈ°μ΅΄κ³Ό λ™μΌ (μ¶”κ°€ μΏΌλ¦¬ μ—†μ)
- **μΊμ‹±**: κΈ°μ΅΄ μΊμ‹± λ΅μ§ μ μ§€
- **νμ΄μ§€λ„¤μ΄μ…**: κΈ°μ΅΄κ³Ό λ™μΌν• λ°©μ‹
- **λ©”λ¨λ¦¬**: ν•„λ“ ν™•μ¥μΌλ΅ μΈν• λ―Έλ―Έν• μ¦κ°€ (λ¬΄μ‹ν•  μμ¤€)

## π‰ **μ™„λ£λ ν¨κ³Ό**

### **Before (μμ • μ „)**

- β **λ§¤λ§¤**: 11κ° ν•„λ“λ§ μ κ³µ (80% λ°μ΄ν„° λ„λ½)
- β **μ „μ›”μ„Έ**: 16κ° ν•„λ“λ§ μ κ³µ (70% λ°μ΄ν„° λ„λ½)
- β **κ²½λ§¤**: 48κ° ν•„λ“ μ κ³µ (μΌλ¶€ λ„λ½)

### **After (μμ • ν›„)**

- β… **λ§¤λ§¤**: **55κ° ν•„λ“ μ™„μ „ μ κ³µ** (100% μ¤ν‚¤λ§ μ»¤λ²„λ¦¬μ§€)
- β… **μ „μ›”μ„Έ**: **55κ° ν•„λ“ μ™„μ „ μ κ³µ** (100% μ¤ν‚¤λ§ μ»¤λ²„λ¦¬μ§€)
- β… **κ²½λ§¤**: **50κ° ν•„λ“ μ™„μ „ μ κ³µ** (100% μ¤ν‚¤λ§ μ»¤λ²„λ¦¬μ§€)

## π”¥ **μ¦‰μ‹ μ‚¬μ© κ°€λ¥ν• κΈ°λ¥**

### **μ™„μ „ν• λ°μ΄ν„° λ¶„μ„**

- β… κ±°λμ ν•, λ§¤μ/λ§¤λ„μ μ •λ³΄
- β… μƒμ„Έ κ±΄μ¶• μ •λ³΄ (κ±΄νμ¨, μ©μ λ¥  λ“±)
- β… λ²•μ  κ¶λ¦¬ λ° νΉμμ‚¬ν•­ (κ²½λ§¤λ§)

### **μ •ν™•ν• μ§€λ„ ν‘μ‹**

- β… κ²½μ„λ„ μΆν‘λ¥Ό ν†µν• μ •ν™•ν• μ„μΉ ν‘μ‹

### **κ³ κΈ‰ ν•„ν„°λ§**

- β… μΈµμ, κ±΄μ¶•μ—°λ„, κµ¬μ΅° λ“± μƒμ„Έ μ΅°κ±΄ κ²€μƒ‰

### **ν¬μ λ¶„μ„ κ³ λ„ν™”**

- β… κ±΄νμ¨, μ©μ λ¥ , λ©΄μ  μ •λ³΄ λ“± ν¬μ νλ‹¨ μλ£
- β… μ „μ›”μ„Έ μμµλ¥  κ³„μ‚° (μ „μ›”μ„Έλ§)

## π“ **μ¦‰μ‹ ν…μ¤νΈ μ”μ²­**

**ν”„λ΅ νΈμ—”λ“ν€μ—μ„ λ‹¤μ APIλ“¤μ„ μ¦‰μ‹ ν…μ¤νΈν•΄μ£Όμ‹κΈ° λ°”λλ‹λ‹¤:**

```bash
# 1. λ§¤λ§¤ API ν…μ¤νΈ
GET /api/v1/real-transactions/?page=1&size=3

# 2. κ²½λ§¤ API ν…μ¤νΈ
GET /api/v1/auction-completed/?page=1&size=3

# 3. μ „μ›”μ„Έ API ν…μ¤νΈ
GET /api/v1/real-rents/?page=1&size=3

# 4. μ»¬λΌ μ •λ³΄ ν™•μΈ
GET /api/v1/real-transactions/columns
GET /api/v1/auction-completed/columns
GET /api/v1/real-rents/columns
```

## π”¥ **μµμΆ… κ²°κ³Ό**

**β… μ„Έ API λ¨λ‘ μ „μ²΄ ν•„λ“λ¥Ό μ™„μ „ν μ κ³µν•©λ‹λ‹¤!**

- **μ‹¤κ±°λκ°€(λ§¤λ§¤)**: 55κ° ν•„λ“
- **κ²½λ§¤κ²°κ³Ό**: 50κ° ν•„λ“
- **μ‹¤κ±°λκ°€(μ „μ›”μ„Έ)**: 55κ° ν•„λ“

**μ΄μ  μ™„μ „ν• λ¶€λ™μ‚° λ°μ΄ν„° μ„λΉ„μ¤λ¥Ό μ κ³µν•  μ μμµλ‹λ‹¤!**

---

**ν…μ¤νΈ κ²°κ³Όλ‚ μ¶”κ°€ λ¬Έμμ‚¬ν•­μ΄ μμΌμ‹λ©΄ μ¦‰μ‹ μ—°λ½ λ¶€νƒλ“λ¦½λ‹λ‹¤.**
